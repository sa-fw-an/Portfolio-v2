import{r as e,u as t,M as r,V as n,N as o,S as i,a,A as s,b as l,d as c,j as u,e as f,C as d,f as p,O as h,E as g,g as m,h as v,P as y,i as b}from"./three-I7xHsJNl.js";import{A as x,S as w,u as _,a as S,C as T,b as E,W as M}from"./index-915WMool.js";import{g as O,u as R}from"./gsap-BA8l8Fn-.js";import"./vendor-HnKmhvXM.js";const A=()=>{if("undefined"==typeof window)return!1;const e=window.innerWidth<968,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t},P=()=>A()||(()=>{if("undefined"==typeof window)return!1;const e=window.innerWidth,t=window.devicePixelRatio||1,r=navigator.hardwareConcurrency||4;return e>=1024&&e<=1920&&(t<=1.5||r<=8)})()?"medium":"high",C=e.forwardRef((d,p)=>{const h=e.useRef(),g=e.useRef(null);t.setDecoderPath(x.DRACO);const[m,v]=e.useState(()=>A()?w.ROOM_SCALE.MOBILE:w.ROOM_SCALE.DESKTOP);let y,b;const S=t(x.MODELS.ROOM,!0);y=S.scene,b=S.animations||[];const{setChildrenMap:T,roomRef:E,rectLightRef:M}=_(),O=e.useRef({current:0,target:0,ease:.1}),R=e=>{const t=2*(e.clientX-window.innerWidth/2)/window.innerWidth;O.current.target=.05*t};return e.useEffect(()=>(window.addEventListener("mousemove",R),()=>window.removeEventListener("mousemove",R)),[]),e.useEffect(()=>{const e=()=>{const e=A()?w.ROOM_SCALE.MOBILE:w.ROOM_SCALE.DESKTOP;v(e)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e.useEffect(()=>{let e,t={};if(y){e=y;const s={cube:["Cube","cube"],aquarium:["Aquarium","aquarium","FishTank","fish_tank"],computer:["Computer","computer","PC","pc"],screen:["Screen","screen","Monitor_Screen"],clock:["Clock","clock"],shelves:["Shelves","shelves","Shelf","shelf"],floor_items:["Floor_Items","floor_items","FloorItems"],desks:["Desks","desks","Desk","desk","Table","table"],table_stuff:["Table_Stuff","table_stuff","TableStuff"],mini_floor:["Mini_Floor","mini_floor"],chair:["Chair","chair"],fish:["Fish","fish"],body:["Body","body","Room","room"],mailbox:["Mailbox","mailbox"],lamp:["Lamp","lamp"],floor_first:["FloorFirst","floorfirst","Floor_First","floor_first"],floor_second:["FloorSecond","floorsecond","Floor_Second","floor_second"],floor_third:["FloorThird","floorthird","Floor_Third","floor_third"],dirt:["Dirt","dirt"],flower1:["Flower1","flower1","Flower_1"],flower2:["Flower2","flower2","Flower_2"]},l=e=>e?.toLowerCase?.()||"";if(y.traverse(e=>{(e.isMesh||e.isGroup)&&(e.castShadow=!0,e.receiveShadow=!0);const r=l(e.name);Object.entries(s).forEach(([n,o])=>{t[n]||o.some(e=>l(e)===r)&&(t[n]=e)})}),t.aquarium){const e=new r({color:5545426,roughness:0,transmission:1,ior:3,opacity:1,depthWrite:!1,depthTest:!1});t.aquarium.children?.[0]?.material?t.aquarium.children[0].material=e:t.aquarium.material&&(t.aquarium.material=e)}if(t.computer||t.screen){const e=document.createElement("video");e.src=x.TEXTURES.VIDEO,e.muted=!0,e.loop=!0,e.playsInline=!0,e.autoplay=!0,e.play();const r=new n(e);r.minFilter=o,r.magFilter=o,r.generateMipmaps=!1,r.colorSpace=i;const s=new a({map:r}),l=t.screen||t.computer?.children?.[1];l?.material&&(l.material=s)}t.mini_floor&&(t.mini_floor.position.x=-.289521,t.mini_floor.position.z=8.83572)}if(t.cube){t.cube.position.set(0,0,0),t.cube.rotation.y=Math.PI/4;A()?t.cube.scale.set(0,0,0):t.cube.scale.set(.001,.001,.001)}if(["aquarium","clock","shelves","floor_items","desks","table_stuff","computer","mini_floor","chair","fish","mailbox","lamp","floor_first","floor_second","floor_third","dirt","flower1","flower2","body"].forEach(e=>{const r=t[e];r?.scale?.set&&r.scale.set(0,0,0)}),b.length&&e){g.current=new s(e);g.current.clipAction(b[0]).play()}const c=new l(16777215,1,.5,.7);c.position.set(7.68244,7,.5),c.rotation.x=-Math.PI/2,c.rotation.z=Math.PI/4,e.add(c),t.rectLight=c,M&&(M.current=c),T(t)},[y,b,T,M]),c(e=>{const t=p?.current||h.current;t&&(O.current.current=f.lerp(O.current.current,O.current.target,O.current.ease),t.rotation.y=O.current.current),g.current&&g.current.update(.9*e.clock.getDelta())}),u.jsx("group",{ref:e=>{p&&("function"==typeof p?p(e):p.current=e),h.current=e,E.current=e},scale:m,position:[0,.7,0],...d,children:y&&u.jsx("primitive",{object:y})})});C.displayName="Room",t.preload(x.MODELS.ROOM);const k=e.memo(C),I=e.forwardRef((e,t)=>u.jsxs("group",{ref:t,...e,children:[u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[.5,-.29,0],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#eb7f8e"})]}),u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[2.1,-.28,0],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#6176b7"})]}),u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[1,-.27,4],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#16ee94"})]}),u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.26,2],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#c8976f"})]})]}));I.displayName="Floor";const L=({theme:t})=>{const r=e.useRef(),n=e.useMemo(()=>new d("dark"===t?"#ebdaef":"#ffffff"),[t]),o="dark"===t?w.LIGHTS.DIRECTIONAL.INTENSITY.DARK:w.LIGHTS.DIRECTIONAL.INTENSITY.LIGHT,i="dark"===t?w.LIGHTS.AMBIENT.INTENSITY.DARK:w.LIGHTS.AMBIENT.INTENSITY.LIGHT;return e.useEffect(()=>{if(!r.current)return;const e=r.current;O.to(e.color,{r:n.r,g:n.g,b:n.b,duration:S.DURATION.MEDIUM}),O.to(e,{intensity:o,duration:S.DURATION.MEDIUM})},[n.r,n.g,n.b,o]),u.jsxs(u.Fragment,{children:[u.jsx("directionalLight",{ref:r,color:n,intensity:o,position:w.LIGHTS.DIRECTIONAL.POSITION,castShadow:!0,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-normalBias":.05}),u.jsx("ambientLight",{color:n,intensity:i},t),u.jsx("hemisphereLight",{skyColor:16777215,groundColor:4473924,intensity:0}),u.jsx("spotLight",{position:[9,-1,-5],angle:12,penumbra:5,intensity:1,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),u.jsx("rectAreaLight",{color:"#ffffff",intensity:1,width:.5,height:.7,position:[8,3,1]})]})};function D(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}
/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var z,N,F,j,B,Y,U,H,X,W,q,G,V,K=function(){return z||"undefined"!=typeof window&&(z=window.gsap)&&z.registerPlugin&&z},Z=1,Q=[],$=[],J=[],ee=Date.now,te=function(e,t){return t},re=function(e,t){return~J.indexOf(e)&&J[J.indexOf(e)+1][t]},ne=function(e){return!!~W.indexOf(e)},oe=function(e,t,r,n,o){return e.addEventListener(t,r,{passive:!1!==n,capture:!!o})},ie=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},ae="scrollLeft",se="scrollTop",le=function(){return q&&q.isPressed||$.cache++},ce=function(e,t){var r=function r(n){if(n||0===n){Z&&(F.history.scrollRestoration="manual");var o=q&&q.isPressed;n=r.v=Math.round(n)||(q&&q.iOS?1:0),e(n),r.cacheID=$.cache,o&&te("ss",n)}else(t||$.cache!==r.cacheID||te("ref"))&&(r.cacheID=$.cache,r.v=e());return r.v+r.offset};return r.offset=0,e&&r},ue={s:ae,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:ce(function(e){return arguments.length?F.scrollTo(e,fe.sc()):F.pageXOffset||j[ae]||B[ae]||Y[ae]||0})},fe={s:se,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ue,sc:ce(function(e){return arguments.length?F.scrollTo(ue.sc(),e):F.pageYOffset||j[se]||B[se]||Y[se]||0})},de=function(e,t){return(t&&t._ctx&&t._ctx.selector||z.utils.toArray)(e)[0]||("string"==typeof e&&!1!==z.config().nullTargetWarn?void 0:null)},pe=function(e,t){var r=t.s,n=t.sc;ne(e)&&(e=j.scrollingElement||B);var o=$.indexOf(e),i=n===fe.sc?1:2;!~o&&(o=$.push(e)-1),$[o+i]||oe(e,"scroll",le);var a=$[o+i],s=a||($[o+i]=ce(re(e,r),!0)||(ne(e)?n:ce(function(t){return arguments.length?e[r]=t:e[r]})));return s.target=e,a||(s.smooth="smooth"===z.getProperty(e,"scrollBehavior")),s},he=function(e,t,r){var n=e,o=e,i=ee(),a=i,s=t||50,l=Math.max(500,3*s),c=function(e,t){var l=ee();t||l-i>s?(o=n,n=e,a=i,i=l):r?n+=e:n=o+(e-o)/(l-a)*(i-a)};return{update:c,reset:function(){o=n=r?0:n,a=i=0},getVelocity:function(e){var t=a,s=o,u=ee();return(e||0===e)&&e!==n&&c(e),i===a||u-a>l?0:(n+(r?s:-s))/((r?u:i)-t)*1e3}}},ge=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},me=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},ve=function(){var e,t,r,n;(X=z.core.globals().ScrollTrigger)&&X.core&&(e=X.core,t=e.bridge||{},r=e._scrollers,n=e._proxies,r.push.apply(r,$),n.push.apply(n,J),$=r,J=n,te=function(e,r){return t[e](r)})},ye=function(e){return z=e||K(),!N&&z&&"undefined"!=typeof document&&document.body&&(F=window,j=document,B=j.documentElement,Y=j.body,W=[F,j,B,Y],z.utils.clamp,V=z.core.context||function(){},H="onpointerenter"in Y?"pointer":"mouse",U=be.isTouch=F.matchMedia&&F.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in F||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,G=be.eventTypes=("ontouchstart"in B?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in B?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Z=0},500),ve(),N=1),N};ue.op=fe,$.cache=0;var be=function(){function e(e){this.init(e)}return e.prototype.init=function(e){N||ye(z),X||ve();var t=e.tolerance,r=e.dragMinimum,n=e.type,o=e.target,i=e.lineHeight,a=e.debounce,s=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,f=e.wheelSpeed,d=e.event,p=e.onDragStart,h=e.onDragEnd,g=e.onDrag,m=e.onPress,v=e.onRelease,y=e.onRight,b=e.onLeft,x=e.onUp,w=e.onDown,_=e.onChangeX,S=e.onChangeY,T=e.onChange,E=e.onToggleX,M=e.onToggleY,O=e.onHover,R=e.onHoverEnd,A=e.onMove,P=e.ignoreCheck,C=e.isNormalizer,k=e.onGestureStart,I=e.onGestureEnd,L=e.onWheel,D=e.onEnable,W=e.onDisable,K=e.onClick,Z=e.scrollSpeed,$=e.capture,J=e.allowClicks,te=e.lockAxis,re=e.onLockAxis;this.target=o=de(o)||B,this.vars=e,u&&(u=z.utils.toArray(u)),t=t||1e-9,r=r||0,f=f||1,Z=Z||1,n=n||"wheel,touch,pointer",a=!1!==a,i||(i=parseFloat(F.getComputedStyle(Y).lineHeight)||22);var ae,se,ce,be,xe,we,_e,Se=this,Te=0,Ee=0,Me=e.passive||!s&&!1!==e.passive,Oe=pe(o,ue),Re=pe(o,fe),Ae=Oe(),Pe=Re(),Ce=~n.indexOf("touch")&&!~n.indexOf("pointer")&&"pointerdown"===G[0],ke=ne(o),Ie=o.ownerDocument||j,Le=[0,0,0],De=[0,0,0],ze=0,Ne=function(){return ze=ee()},Fe=function(e,t){return(Se.event=e)&&u&&function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1}(e.target,u)||t&&Ce&&"touch"!==e.pointerType||P&&P(e,t)},je=function(){var e=Se.deltaX=me(Le),r=Se.deltaY=me(De),n=Math.abs(e)>=t,o=Math.abs(r)>=t;T&&(n||o)&&T(Se,e,r,Le,De),n&&(y&&Se.deltaX>0&&y(Se),b&&Se.deltaX<0&&b(Se),_&&_(Se),E&&Se.deltaX<0!=Te<0&&E(Se),Te=Se.deltaX,Le[0]=Le[1]=Le[2]=0),o&&(w&&Se.deltaY>0&&w(Se),x&&Se.deltaY<0&&x(Se),S&&S(Se),M&&Se.deltaY<0!=Ee<0&&M(Se),Ee=Se.deltaY,De[0]=De[1]=De[2]=0),(be||ce)&&(A&&A(Se),ce&&(p&&1===ce&&p(Se),g&&g(Se),ce=0),be=!1),we&&!(we=!1)&&re&&re(Se),xe&&(L(Se),xe=!1),ae=0},Be=function(e,t,r){Le[r]+=e,De[r]+=t,Se._vx.update(e),Se._vy.update(t),a?ae||(ae=requestAnimationFrame(je)):je()},Ye=function(e,t){te&&!_e&&(Se.axis=_e=Math.abs(e)>Math.abs(t)?"x":"y",we=!0),"y"!==_e&&(Le[2]+=e,Se._vx.update(e,!0)),"x"!==_e&&(De[2]+=t,Se._vy.update(t,!0)),a?ae||(ae=requestAnimationFrame(je)):je()},Ue=function(e){if(!Fe(e,1)){var t=(e=ge(e,s)).clientX,n=e.clientY,o=t-Se.x,i=n-Se.y,a=Se.isDragging;Se.x=t,Se.y=n,(a||(o||i)&&(Math.abs(Se.startX-t)>=r||Math.abs(Se.startY-n)>=r))&&(ce=a?2:1,a||(Se.isDragging=!0),Ye(o,i))}},He=Se.onPress=function(e){Fe(e,1)||e&&e.button||(Se.axis=_e=null,se.pause(),Se.isPressed=!0,e=ge(e),Te=Ee=0,Se.startX=Se.x=e.clientX,Se.startY=Se.y=e.clientY,Se._vx.reset(),Se._vy.reset(),oe(C?o:Ie,G[1],Ue,Me,!0),Se.deltaX=Se.deltaY=0,m&&m(Se))},Xe=Se.onRelease=function(e){if(!Fe(e,1)){ie(C?o:Ie,G[1],Ue,!0);var t=!isNaN(Se.y-Se.startY),r=Se.isDragging,n=r&&(Math.abs(Se.x-Se.startX)>3||Math.abs(Se.y-Se.startY)>3),i=ge(e);!n&&t&&(Se._vx.reset(),Se._vy.reset(),s&&J&&z.delayedCall(.08,function(){if(ee()-ze>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(Ie.createEvent){var t=Ie.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,F,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),Se.isDragging=Se.isGesturing=Se.isPressed=!1,l&&r&&!C&&se.restart(!0),ce&&je(),h&&r&&h(Se),v&&v(Se,n)}},We=function(e){return e.touches&&e.touches.length>1&&(Se.isGesturing=!0)&&k(e,Se.isDragging)},qe=function(){return(Se.isGesturing=!1)||I(Se)},Ge=function(e){if(!Fe(e)){var t=Oe(),r=Re();Be((t-Ae)*Z,(r-Pe)*Z,1),Ae=t,Pe=r,l&&se.restart(!0)}},Ve=function(e){if(!Fe(e)){e=ge(e,s),L&&(xe=!0);var t=(1===e.deltaMode?i:2===e.deltaMode?F.innerHeight:1)*f;Be(e.deltaX*t,e.deltaY*t,0),l&&!C&&se.restart(!0)}},Ke=function(e){if(!Fe(e)){var t=e.clientX,r=e.clientY,n=t-Se.x,o=r-Se.y;Se.x=t,Se.y=r,be=!0,l&&se.restart(!0),(n||o)&&Ye(n,o)}},Ze=function(e){Se.event=e,O(Se)},Qe=function(e){Se.event=e,R(Se)},$e=function(e){return Fe(e)||ge(e,s)&&K(Se)};se=Se._dc=z.delayedCall(c||.25,function(){Se._vx.reset(),Se._vy.reset(),se.pause(),l&&l(Se)}).pause(),Se.deltaX=Se.deltaY=0,Se._vx=he(0,50,!0),Se._vy=he(0,50,!0),Se.scrollX=Oe,Se.scrollY=Re,Se.isDragging=Se.isGesturing=Se.isPressed=!1,V(this),Se.enable=function(e){return Se.isEnabled||(oe(ke?Ie:o,"scroll",le),n.indexOf("scroll")>=0&&oe(ke?Ie:o,"scroll",Ge,Me,$),n.indexOf("wheel")>=0&&oe(o,"wheel",Ve,Me,$),(n.indexOf("touch")>=0&&U||n.indexOf("pointer")>=0)&&(oe(o,G[0],He,Me,$),oe(Ie,G[2],Xe),oe(Ie,G[3],Xe),J&&oe(o,"click",Ne,!0,!0),K&&oe(o,"click",$e),k&&oe(Ie,"gesturestart",We),I&&oe(Ie,"gestureend",qe),O&&oe(o,H+"enter",Ze),R&&oe(o,H+"leave",Qe),A&&oe(o,H+"move",Ke)),Se.isEnabled=!0,Se.isDragging=Se.isGesturing=Se.isPressed=be=ce=!1,Se._vx.reset(),Se._vy.reset(),Ae=Oe(),Pe=Re(),e&&e.type&&He(e),D&&D(Se)),Se},Se.disable=function(){Se.isEnabled&&(Q.filter(function(e){return e!==Se&&ne(e.target)}).length||ie(ke?Ie:o,"scroll",le),Se.isPressed&&(Se._vx.reset(),Se._vy.reset(),ie(C?o:Ie,G[1],Ue,!0)),ie(ke?Ie:o,"scroll",Ge,$),ie(o,"wheel",Ve,$),ie(o,G[0],He,$),ie(Ie,G[2],Xe),ie(Ie,G[3],Xe),ie(o,"click",Ne,!0),ie(o,"click",$e),ie(Ie,"gesturestart",We),ie(Ie,"gestureend",qe),ie(o,H+"enter",Ze),ie(o,H+"leave",Qe),ie(o,H+"move",Ke),Se.isEnabled=Se.isPressed=Se.isDragging=!1,W&&W(Se))},Se.kill=Se.revert=function(){Se.disable();var e=Q.indexOf(Se);e>=0&&Q.splice(e,1),q===Se&&(q=0)},Q.push(Se),C&&ne(o)&&(q=Se),Se.enable(d)},D(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();be.version="3.13.0",be.create=function(e){return new be(e)},be.register=ye,be.getAll=function(){return Q.slice()},be.getById=function(e){return Q.filter(function(t){return t.vars.id===e})[0]},K()&&z.registerPlugin(be);
/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
var xe,we,_e,Se,Te,Ee,Me,Oe,Re,Ae,Pe,Ce,ke,Ie,Le,De,ze,Ne,Fe,je,Be,Ye,Ue,He,Xe,We,qe,Ge,Ve,Ke,Ze,Qe,$e,Je,et,tt,rt,nt,ot=1,it=Date.now,at=it(),st=0,lt=0,ct=function(e,t,r){var n=St(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=n,n?e.substr(6,e.length-7):e},ut=function(e,t){return!t||St(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},ft=function e(){return lt&&requestAnimationFrame(e)},dt=function(){return Ie=1},pt=function(){return Ie=0},ht=function(e){return e},gt=function(e){return Math.round(1e5*e)/1e5||0},mt=function(){return"undefined"!=typeof window},vt=function(){return xe||mt()&&(xe=window.gsap)&&xe.registerPlugin&&xe},yt=function(e){return!!~Me.indexOf(e)},bt=function(e){return("Height"===e?Ze:_e["inner"+e])||Te["client"+e]||Ee["client"+e]},xt=function(e){return re(e,"getBoundingClientRect")||(yt(e)?function(){return Ir.width=_e.innerWidth,Ir.height=Ze,Ir}:function(){return qt(e)})},wt=function(e,t){var r=t.s,n=t.d2,o=t.d,i=t.a;return Math.max(0,(r="scroll"+n)&&(i=re(e,r))?i()-xt(e)()[o]:yt(e)?(Te[r]||Ee[r])-bt(n):e[r]-e["offset"+n])},_t=function(e,t){for(var r=0;r<Fe.length;r+=3)(!t||~t.indexOf(Fe[r+1]))&&e(Fe[r],Fe[r+1],Fe[r+2])},St=function(e){return"string"==typeof e},Tt=function(e){return"function"==typeof e},Et=function(e){return"number"==typeof e},Mt=function(e){return"object"==typeof e},Ot=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},Rt=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},At=Math.abs,Pt="left",Ct="right",kt="bottom",It="width",Lt="height",Dt="Right",zt="Left",Nt="Top",Ft="Bottom",jt="padding",Bt="margin",Yt="Width",Ut="Height",Ht="px",Xt=function(e){return _e.getComputedStyle(e)},Wt=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},qt=function(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Xt(e)[Le]&&xe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return r&&r.progress(0).kill(),n},Gt=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},Vt=function(e){var t,r=[],n=e.labels,o=e.duration();for(t in n)r.push(n[t]/o);return r},Kt=function(e){var t=xe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return r?function(e,n,o){var i;if(void 0===o&&(o=.001),!n)return t(e);if(n>0){for(e-=o,i=0;i<r.length;i++)if(r[i]>=e)return r[i];return r[i-1]}for(i=r.length,e+=o;i--;)if(r[i]<=e)return r[i];return r[0]}:function(r,n,o){void 0===o&&(o=.001);var i=t(r);return!n||Math.abs(i-r)<o||i-r<0==n<0?i:t(n<0?r-e:r+e)}},Zt=function(e,t,r,n){return r.split(",").forEach(function(r){return e(t,r,n)})},Qt=function(e,t,r,n,o){return e.addEventListener(t,r,{passive:!n,capture:!!o})},$t=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},Jt=function(e,t,r){(r=r&&r.wheelHandler)&&(e(t,"wheel",r),e(t,"touchmove",r))},er={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},tr={toggleActions:"play",anticipatePin:0},rr={top:0,left:0,center:.5,bottom:1,right:1},nr=function(e,t){if(St(e)){var r=e.indexOf("="),n=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in rr?rr[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},or=function(e,t,r,n,o,i,a,s){var l=o.startColor,c=o.endColor,u=o.fontSize,f=o.indent,d=o.fontWeight,p=Se.createElement("div"),h=yt(r)||"fixed"===re(r,"pinType"),g=-1!==e.indexOf("scroller"),m=h?Ee:r,v=-1!==e.indexOf("start"),y=v?l:c,b="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((g||s)&&h?"fixed;":"absolute;"),(g||s||!h)&&(b+=(n===fe?Ct:kt)+":"+(i+parseFloat(f))+"px;"),a&&(b+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=b,p.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(p,m.children[0]):m.appendChild(p),p._offset=p["offset"+n.op.d2],ir(p,0,n,v),p},ir=function(e,t,r,n){var o={display:"block"},i=r[n?"os2":"p2"],a=r[n?"p2":"os2"];e._isFlipped=n,o[r.a+"Percent"]=n?-100:0,o[r.a]=n?"1px":0,o["border"+i+Yt]=1,o["border"+a+Yt]=0,o[r.p]=t+"px",xe.set(e,o)},ar=[],sr={},lr=function(){return it()-st>34&&(et||(et=requestAnimationFrame(Mr)))},cr=function(){(!Ue||!Ue.isPressed||Ue.startX>Ee.clientWidth)&&($.cache++,Ue?et||(et=requestAnimationFrame(Mr)):Mr(),st||gr("scrollStart"),st=it())},ur=function(){We=_e.innerWidth,Xe=_e.innerHeight},fr=function(e){$.cache++,(!0===e||!ke&&!Ye&&!Se.fullscreenElement&&!Se.webkitFullscreenElement&&(!He||We!==_e.innerWidth||Math.abs(_e.innerHeight-Xe)>.25*_e.innerHeight))&&Oe.restart(!0)},dr={},pr=[],hr=function e(){return $t(Br,"scrollEnd",e)||Sr(!0)},gr=function(e){return dr[e]&&dr[e].map(function(e){return e()})||pr},mr=[],vr=function(e){for(var t=0;t<mr.length;t+=5)(!e||mr[t+4]&&mr[t+4].query===e)&&(mr[t].style.cssText=mr[t+1],mr[t].getBBox&&mr[t].setAttribute("transform",mr[t+2]||""),mr[t+3].uncache=1)},yr=function(e,t){var r;for(De=0;De<ar.length;De++)!(r=ar[De])||t&&r._ctx!==t||(e?r.kill(1):r.revert(!0,!0));Qe=!0,t&&vr(t),t||gr("revert")},br=function(e,t){$.cache++,(t||!tt)&&$.forEach(function(e){return Tt(e)&&e.cacheID++&&(e.rec=0)}),St(e)&&(_e.history.scrollRestoration=Ve=e)},xr=0,wr=function(){Ee.appendChild(Ke),Ze=!Ue&&Ke.offsetHeight||_e.innerHeight,Ee.removeChild(Ke)},_r=function(e){return Re(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Sr=function(e,t){if(Te=Se.documentElement,Ee=Se.body,Me=[_e,Se,Te,Ee],!st||e||Qe){wr(),tt=Br.isRefreshing=!0,$.forEach(function(e){return Tt(e)&&++e.cacheID&&(e.rec=e())});var r=gr("refreshInit");je&&Br.sort(),t||yr(),$.forEach(function(e){Tt(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),ar.slice(0).forEach(function(e){return e.refresh()}),Qe=!1,ar.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",r=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-r),e.refresh()}}),$e=1,_r(!0),ar.forEach(function(e){var t=wt(e.scroller,e._dir),r="max"===e.vars.end||e._endClamp&&e.end>t,n=e._startClamp&&e.start>=t;(r||n)&&e.setPositions(n?t-1:e.start,r?Math.max(n?t:e.start+1,t):e.end,!0)}),_r(!1),$e=0,r.forEach(function(e){return e&&e.render&&e.render(-1)}),$.forEach(function(e){Tt(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),br(Ve,1),Oe.pause(),xr++,tt=2,Mr(2),ar.forEach(function(e){return Tt(e.vars.onRefresh)&&e.vars.onRefresh(e)}),tt=Br.isRefreshing=!1,gr("refresh")}else Qt(Br,"scrollEnd",hr)},Tr=0,Er=1,Mr=function(e){if(2===e||!tt&&!Qe){Br.isUpdating=!0,nt&&nt.update(0);var t=ar.length,r=it(),n=r-at>=50,o=t&&ar[0].scroll();if(Er=Tr>o?-1:1,tt||(Tr=o),n&&(st&&!Ie&&r-st>200&&(st=0,gr("scrollEnd")),Pe=at,at=r),Er<0){for(De=t;De-- >0;)ar[De]&&ar[De].update(0,n);Er=1}else for(De=0;De<t;De++)ar[De]&&ar[De].update(0,n);Br.isUpdating=!1}et=0},Or=[Pt,"top",kt,Ct,Bt+Ft,Bt+Dt,Bt+Nt,Bt+zt,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Rr=Or.concat([It,Lt,"boxSizing","max"+Yt,"max"+Ut,"position",Bt,jt,jt+Nt,jt+Dt,jt+Ft,jt+zt]),Ar=function(e,t,r,n){if(!e._gsap.swappedIn){for(var o,i=Or.length,a=t.style,s=e.style;i--;)a[o=Or[i]]=r[o];a.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(a.display="inline-block"),s[kt]=s[Ct]="auto",a.flexBasis=r.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[It]=Gt(e,ue)+Ht,a[Lt]=Gt(e,fe)+Ht,a[jt]=s[Bt]=s.top=s[Pt]="0",Cr(n),s[It]=s["max"+Yt]=r[It],s[Lt]=s["max"+Ut]=r[Lt],s[jt]=r[jt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Pr=/([A-Z])/g,Cr=function(e){if(e){var t,r,n=e.t.style,o=e.length,i=0;for((e.t._gsap||xe.core.getCache(e.t)).uncache=1;i<o;i+=2)r=e[i+1],t=e[i],r?n[t]=r:n[t]&&n.removeProperty(t.replace(Pr,"-$1").toLowerCase())}},kr=function(e){for(var t=Rr.length,r=e.style,n=[],o=0;o<t;o++)n.push(Rr[o],r[Rr[o]]);return n.t=e,n},Ir={left:0,top:0},Lr=function(e,t,r,n,o,i,a,s,l,c,u,f,d,p){Tt(e)&&(e=e(s)),St(e)&&"max"===e.substr(0,3)&&(e=f+("="===e.charAt(4)?nr("0"+e.substr(3),r):0));var h,g,m,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),Et(e))d&&(e=xe.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,f,e)),a&&ir(a,r,n,!0);else{Tt(t)&&(t=t(s));var y,b,x,w,_=(e||"0").split(" ");m=de(t,s)||Ee,(y=qt(m)||{})&&(y.left||y.top)||"none"!==Xt(m).display||(w=m.style.display,m.style.display="block",y=qt(m),w?m.style.display=w:m.style.removeProperty("display")),b=nr(_[0],y[n.d]),x=nr(_[1]||"0",r),e=y[n.p]-l[n.p]-c+b+o-x,a&&ir(a,x,n,r-x<20||a._isStart&&x>20),r-=r-x}if(p&&(s[p]=e||-.001,e<0&&(e=0)),i){var S=e+r,T=i._isStart;h="scroll"+n.d2,ir(i,S,n,T&&S>20||!T&&(u?Math.max(Ee[h],Te[h]):i.parentNode[h])<=S+1),u&&(l=qt(a),u&&(i.style[n.op.p]=l[n.op.p]-n.op.m-i._offset+Ht))}return d&&m&&(h=qt(m),d.seek(f),g=qt(m),d._caScrollDist=h[n.p]-g[n.p],e=e/d._caScrollDist*f),d&&d.seek(v),d?e:Math.round(e)},Dr=/(webkit|moz|length|cssText|inset)/i,zr=function(e,t,r,n){if(e.parentNode!==t){var o,i,a=e.style;if(t===Ee){for(o in e._stOrig=a.cssText,i=Xt(e))+o||Dr.test(o)||!i[o]||"string"!=typeof a[o]||"0"===o||(a[o]=i[o]);a.top=r,a.left=n}else a.cssText=e._stOrig;xe.core.getCache(e).uncache=1,t.appendChild(e)}},Nr=function(e,t,r){var n=t,o=n;return function(t){var i=Math.round(e());return i!==n&&i!==o&&Math.abs(i-n)>3&&Math.abs(i-o)>3&&(t=i,r&&r()),o=n,n=Math.round(t)}},Fr=function(e,t,r){var n={};n[t.p]="+="+r,xe.set(e,n)},jr=function(e,t){var r=pe(e,t),n="_scroll"+t.p2,o=function t(o,i,a,s,l){var c=t.tween,u=i.onComplete,f={};a=a||r();var d=Nr(r,a,function(){c.kill(),t.tween=0});return l=s&&l||0,s=s||o-a,c&&c.kill(),i[n]=o,i.inherit=!1,i.modifiers=f,f[n]=function(){return d(a+s*c.ratio+l*c.ratio*c.ratio)},i.onUpdate=function(){$.cache++,t.tween&&Mr()},i.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=xe.to(e,i)};return e[n]=r,r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Qt(e,"wheel",r.wheelHandler),Br.isTouch&&Qt(e,"touchmove",r.wheelHandler),o},Br=function(){function e(t,r){we||e.register(xe),Ge(this),this.init(t,r)}return e.prototype.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),lt){var n,o,i,a,s,l,c,u,f,d,p,h,g,m,v,y,b,x,w,_,S,T,E,M,O,R,A,P,C,k,I,L,D,z,N,F,j,B,Y,U,H,X,W=t=Wt(St(t)||Et(t)||t.nodeType?{trigger:t}:t,tr),q=W.onUpdate,G=W.toggleClass,V=W.id,K=W.onToggle,Z=W.onRefresh,Q=W.scrub,ee=W.trigger,te=W.pin,ne=W.pinSpacing,oe=W.invalidateOnRefresh,ie=W.anticipatePin,ae=W.onScrubComplete,se=W.onSnapComplete,le=W.once,ce=W.snap,he=W.pinReparent,ge=W.pinSpacer,me=W.containerAnimation,ve=W.fastScrollEnd,ye=W.preventOverlaps,be=t.horizontal||t.containerAnimation&&!1!==t.horizontal?ue:fe,we=!Q&&0!==Q,Me=de(t.scroller||_e),Oe=xe.core.getCache(Me),Ce=yt(Me),Le="fixed"===("pinType"in t?t.pinType:re(Me,"pinType")||Ce&&"fixed"),ze=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],Ne=we&&t.toggleActions.split(" "),Fe="markers"in t?t.markers:tr.markers,Ye=Ce?0:parseFloat(Xt(Me)["border"+be.p2+Yt])||0,Ue=this,He=t.onRefreshInit&&function(){return t.onRefreshInit(Ue)},Xe=function(e,t,r){var n=r.d,o=r.d2,i=r.a;return(i=re(e,"getBoundingClientRect"))?function(){return i()[n]}:function(){return(t?bt(o):e["client"+o])||0}}(Me,Ce,be),We=function(e,t){return!t||~J.indexOf(e)?xt(e):function(){return Ir}}(Me,Ce),qe=0,Ge=0,Ve=0,Ke=pe(Me,be);if(Ue._startClamp=Ue._endClamp=!1,Ue._dir=be,ie*=45,Ue.scroller=Me,Ue.scroll=me?me.time.bind(me):Ke,a=Ke(),Ue.vars=t,r=r||t.animation,"refreshPriority"in t&&(je=1,-9999===t.refreshPriority&&(nt=Ue)),Oe.tweenScroll=Oe.tweenScroll||{top:jr(Me,fe),left:jr(Me,ue)},Ue.tweenTo=n=Oe.tweenScroll[be.p],Ue.scrubDuration=function(e){(D=Et(e)&&e)?L?L.duration(e):L=xe.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:D,paused:!0,onComplete:function(){return ae&&ae(Ue)}}):(L&&L.progress(1).kill(),L=0)},r&&(r.vars.lazy=!1,r._initted&&!Ue.isReverted||!1!==r.vars.immediateRender&&!1!==t.immediateRender&&r.duration()&&r.render(0,!0,!0),Ue.animation=r.pause(),r.scrollTrigger=Ue,Ue.scrubDuration(Q),k=0,V||(V=r.vars.id)),ce&&(Mt(ce)&&!ce.push||(ce={snapTo:ce}),"scrollBehavior"in Ee.style&&xe.set(Ce?[Ee,Te]:Me,{scrollBehavior:"auto"}),$.forEach(function(e){return Tt(e)&&e.target===(Ce?Se.scrollingElement||Te:Me)&&(e.smooth=!1)}),i=Tt(ce.snapTo)?ce.snapTo:"labels"===ce.snapTo?function(e){return function(t){return xe.utils.snap(Vt(e),t)}}(r):"labelsDirectional"===ce.snapTo?(U=r,function(e,t){return Kt(Vt(U))(e,t.direction)}):!1!==ce.directional?function(e,t){return Kt(ce.snapTo)(e,it()-Ge<500?0:t.direction)}:xe.utils.snap(ce.snapTo),z=ce.duration||{min:.1,max:2},z=Mt(z)?Ae(z.min,z.max):Ae(z,z),N=xe.delayedCall(ce.delay||D/2||.1,function(){var e=Ke(),t=it()-Ge<500,o=n.tween;if(!(t||Math.abs(Ue.getVelocity())<10)||o||Ie||qe===e)Ue.isActive&&qe!==e&&N.restart(!0);else{var a,s,u=(e-l)/m,f=r&&!we?r.totalProgress():u,d=t?0:(f-I)/(it()-Pe)*1e3||0,p=xe.utils.clamp(-u,1-u,At(d/2)*d/.185),h=u+(!1===ce.inertia?0:p),g=ce,v=g.onStart,y=g.onInterrupt,b=g.onComplete;if(a=i(h,Ue),Et(a)||(a=h),s=Math.max(0,Math.round(l+a*m)),e<=c&&e>=l&&s!==e){if(o&&!o._initted&&o.data<=At(s-e))return;!1===ce.inertia&&(p=a-u),n(s,{duration:z(At(.185*Math.max(At(h-f),At(a-f))/d/.05||0)),ease:ce.ease||"power3",data:At(s-e),onInterrupt:function(){return N.restart(!0)&&y&&y(Ue)},onComplete:function(){Ue.update(),qe=Ke(),r&&!we&&(L?L.resetTo("totalProgress",a,r._tTime/r._tDur):r.progress(a)),k=I=r&&!we?r.totalProgress():Ue.progress,se&&se(Ue),b&&b(Ue)}},e,p*m,s-e-p*m),v&&v(Ue,n.tween)}}}).pause()),V&&(sr[V]=Ue),(Y=(ee=Ue.trigger=de(ee||!0!==te&&te))&&ee._gsap&&ee._gsap.stRevert)&&(Y=Y(Ue)),te=!0===te?ee:de(te),St(G)&&(G={targets:ee,className:G}),te&&(!1===ne||ne===Bt||(ne=!(!ne&&te.parentNode&&te.parentNode.style&&"flex"===Xt(te.parentNode).display)&&jt),Ue.pin=te,(o=xe.core.getCache(te)).spacer?v=o.pinState:(ge&&((ge=de(ge))&&!ge.nodeType&&(ge=ge.current||ge.nativeElement),o.spacerIsNative=!!ge,ge&&(o.spacerState=kr(ge))),o.spacer=x=ge||Se.createElement("div"),x.classList.add("pin-spacer"),V&&x.classList.add("pin-spacer-"+V),o.pinState=v=kr(te)),!1!==t.force3D&&xe.set(te,{force3D:!0}),Ue.spacer=x=o.spacer,C=Xt(te),M=C[ne+be.os2],_=xe.getProperty(te),S=xe.quickSetter(te,be.a,Ht),Ar(te,x,C),b=kr(te)),Fe){h=Mt(Fe)?Wt(Fe,er):er,d=or("scroller-start",V,Me,be,h,0),p=or("scroller-end",V,Me,be,h,0,d),w=d["offset"+be.op.d2];var Ze=de(re(Me,"content")||Me);u=this.markerStart=or("start",V,Ze,be,h,w,0,me),f=this.markerEnd=or("end",V,Ze,be,h,w,0,me),me&&(B=xe.quickSetter([u,f],be.a,Ht)),Le||J.length&&!0===re(Me,"fixedMarkers")||(X=Xt(H=Ce?Ee:Me).position,H.style.position="absolute"===X||"fixed"===X?X:"relative",xe.set([d,p],{force3D:!0}),R=xe.quickSetter(d,be.a,Ht),P=xe.quickSetter(p,be.a,Ht))}if(me){var Qe=me.vars.onUpdate,et=me.vars.onUpdateParams;me.eventCallback("onUpdate",function(){Ue.update(0,0,1),Qe&&Qe.apply(me,et||[])})}if(Ue.previous=function(){return ar[ar.indexOf(Ue)-1]},Ue.next=function(){return ar[ar.indexOf(Ue)+1]},Ue.revert=function(e,t){if(!t)return Ue.kill(!0);var n=!1!==e||!Ue.enabled,o=ke;n!==Ue.isReverted&&(n&&(F=Math.max(Ke(),Ue.scroll.rec||0),Ve=Ue.progress,j=r&&r.progress()),u&&[u,f,d,p].forEach(function(e){return e.style.display=n?"none":"block"}),n&&(ke=Ue,Ue.update(n)),!te||he&&Ue.isActive||(n?function(e,t,r){Cr(r);var n=e._gsap;if(n.spacerIsNative)Cr(n.spacerState);else if(e._gsap.swappedIn){var o=t.parentNode;o&&(o.insertBefore(e,t),o.removeChild(t))}e._gsap.swappedIn=!1}(te,x,v):Ar(te,x,Xt(te),O)),n||Ue.update(n),ke=o,Ue.isReverted=n)},Ue.refresh=function(o,i,h,w){if(!ke&&Ue.enabled||i)if(te&&o&&st)Qt(e,"scrollEnd",hr);else{!tt&&He&&He(Ue),ke=Ue,n.tween&&!h&&(n.tween.kill(),n.tween=0),L&&L.pause(),oe&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)})),Ue.isReverted||Ue.revert(!0,!0),Ue._subPinOffset=!1;var S,M,R,P,C,k,I,D,z,B,Y,U,H,X=Xe(),W=We(),q=me?me.duration():wt(Me,be),G=m<=.01||!m,V=0,K=w||0,Q=Mt(h)?h.end:t.end,$=t.endTrigger||ee,J=Mt(h)?h.start:t.start||(0!==t.start&&ee?te?"0 0":"0 100%":0),re=Ue.pinnedContainer=t.pinnedContainer&&de(t.pinnedContainer,Ue),ie=ee&&Math.max(0,ar.indexOf(Ue))||0,ae=ie;for(Fe&&Mt(h)&&(U=xe.getProperty(d,be.p),H=xe.getProperty(p,be.p));ae-- >0;)(k=ar[ae]).end||k.refresh(0,1)||(ke=Ue),!(I=k.pin)||I!==ee&&I!==te&&I!==re||k.isReverted||(B||(B=[]),B.unshift(k),k.revert(!0,!0)),k!==ar[ae]&&(ie--,ae--);for(Tt(J)&&(J=J(Ue)),J=ct(J,"start",Ue),l=Lr(J,ee,X,be,Ke(),u,d,Ue,W,Ye,Le,q,me,Ue._startClamp&&"_startClamp")||(te?-.001:0),Tt(Q)&&(Q=Q(Ue)),St(Q)&&!Q.indexOf("+=")&&(~Q.indexOf(" ")?Q=(St(J)?J.split(" ")[0]:"")+Q:(V=nr(Q.substr(2),X),Q=St(J)?J:(me?xe.utils.mapRange(0,me.duration(),me.scrollTrigger.start,me.scrollTrigger.end,l):l)+V,$=ee)),Q=ct(Q,"end",Ue),c=Math.max(l,Lr(Q||($?"100% 0":q),$,X,be,Ke()+V,f,p,Ue,W,Ye,Le,q,me,Ue._endClamp&&"_endClamp"))||-.001,V=0,ae=ie;ae--;)(I=(k=ar[ae]).pin)&&k.start-k._pinPush<=l&&!me&&k.end>0&&(S=k.end-(Ue._startClamp?Math.max(0,k.start):k.start),(I===ee&&k.start-k._pinPush<l||I===re)&&isNaN(J)&&(V+=S*(1-k.progress)),I===te&&(K+=S));if(l+=V,c+=V,Ue._startClamp&&(Ue._startClamp+=V),Ue._endClamp&&!tt&&(Ue._endClamp=c||-.001,c=Math.min(c,wt(Me,be))),m=c-l||(l-=.01)&&.001,G&&(Ve=xe.utils.clamp(0,1,xe.utils.normalize(l,c,F))),Ue._pinPush=K,u&&V&&((S={})[be.a]="+="+V,re&&(S[be.p]="-="+Ke()),xe.set([u,f],S)),!te||$e&&Ue.end>=wt(Me,be)){if(ee&&Ke()&&!me)for(M=ee.parentNode;M&&M!==Ee;)M._pinOffset&&(l-=M._pinOffset,c-=M._pinOffset),M=M.parentNode}else S=Xt(te),P=be===fe,R=Ke(),T=parseFloat(_(be.a))+K,!q&&c>1&&(Y={style:Y=(Ce?Se.scrollingElement||Te:Me).style,value:Y["overflow"+be.a.toUpperCase()]},Ce&&"scroll"!==Xt(Ee)["overflow"+be.a.toUpperCase()]&&(Y.style["overflow"+be.a.toUpperCase()]="scroll")),Ar(te,x,S),b=kr(te),M=qt(te,!0),D=Le&&pe(Me,P?ue:fe)(),ne?((O=[ne+be.os2,m+K+Ht]).t=x,(ae=ne===jt?Gt(te,be)+m+K:0)&&(O.push(be.d,ae+Ht),"auto"!==x.style.flexBasis&&(x.style.flexBasis=ae+Ht)),Cr(O),re&&ar.forEach(function(e){e.pin===re&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),Le&&Ke(F)):(ae=Gt(te,be))&&"auto"!==x.style.flexBasis&&(x.style.flexBasis=ae+Ht),Le&&((C={top:M.top+(P?R-l:D)+Ht,left:M.left+(P?D:R-l)+Ht,boxSizing:"border-box",position:"fixed"})[It]=C["max"+Yt]=Math.ceil(M.width)+Ht,C[Lt]=C["max"+Ut]=Math.ceil(M.height)+Ht,C[Bt]=C[Bt+Nt]=C[Bt+Dt]=C[Bt+Ft]=C[Bt+zt]="0",C[jt]=S[jt],C[jt+Nt]=S[jt+Nt],C[jt+Dt]=S[jt+Dt],C[jt+Ft]=S[jt+Ft],C[jt+zt]=S[jt+zt],y=function(e,t,r){for(var n,o=[],i=e.length,a=r?8:0;a<i;a+=2)n=e[a],o.push(n,n in t?t[n]:e[a+1]);return o.t=e.t,o}(v,C,he),tt&&Ke(0)),r?(z=r._initted,Be(1),r.render(r.duration(),!0,!0),E=_(be.a)-T+m+K,A=Math.abs(m-E)>1,Le&&A&&y.splice(y.length-2,2),r.render(0,!0,!0),z||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Be(0)):E=m,Y&&(Y.value?Y.style["overflow"+be.a.toUpperCase()]=Y.value:Y.style.removeProperty("overflow-"+be.a));B&&B.forEach(function(e){return e.revert(!1,!0)}),Ue.start=l,Ue.end=c,a=s=tt?F:Ke(),me||tt||(a<F&&Ke(F),Ue.scroll.rec=0),Ue.revert(!1,!0),Ge=it(),N&&(qe=-1,N.restart(!0)),ke=0,r&&we&&(r._initted||j)&&r.progress()!==j&&r.progress(j||0,!0).render(r.time(),!0,!0),(G||Ve!==Ue.progress||me||oe||r&&!r._initted)&&(r&&!we&&(r._initted||Ve||!1!==r.vars.immediateRender)&&r.totalProgress(me&&l<-.001&&!Ve?xe.utils.normalize(l,c,0):Ve,!0),Ue.progress=G||(a-l)/m===Ve?0:Ve),te&&ne&&(x._pinOffset=Math.round(Ue.progress*E)),L&&L.invalidate(),isNaN(U)||(U-=xe.getProperty(d,be.p),H-=xe.getProperty(p,be.p),Fr(d,be,U),Fr(u,be,U-(w||0)),Fr(p,be,H),Fr(f,be,H-(w||0))),G&&!tt&&Ue.update(),!Z||tt||g||(g=!0,Z(Ue),g=!1)}},Ue.getVelocity=function(){return(Ke()-s)/(it()-Pe)*1e3||0},Ue.endAnimation=function(){Ot(Ue.callbackAnimation),r&&(L?L.progress(1):r.paused()?we||Ot(r,Ue.direction<0,1):Ot(r,r.reversed()))},Ue.labelToScroll=function(e){return r&&r.labels&&(l||Ue.refresh()||l)+r.labels[e]/r.duration()*m||0},Ue.getTrailing=function(e){var t=ar.indexOf(Ue),r=Ue.direction>0?ar.slice(0,t).reverse():ar.slice(t+1);return(St(e)?r.filter(function(t){return t.vars.preventOverlaps===e}):r).filter(function(e){return Ue.direction>0?e.end<=l:e.start>=c})},Ue.update=function(e,t,o){if(!me||o||e){var i,u,f,p,h,g,v,w=!0===tt?F:Ue.scroll(),_=e?0:(w-l)/m,O=_<0?0:_>1?1:_||0,C=Ue.progress;if(t&&(s=a,a=me?Ke():w,ce&&(I=k,k=r&&!we?r.totalProgress():O)),ie&&te&&!ke&&!ot&&st&&(!O&&l<w+(w-s)/(it()-Pe)*ie?O=1e-4:1===O&&c>w+(w-s)/(it()-Pe)*ie&&(O=.9999)),O!==C&&Ue.enabled){if(p=(h=(i=Ue.isActive=!!O&&O<1)!==(!!C&&C<1))||!!O!=!!C,Ue.direction=O>C?1:-1,Ue.progress=O,p&&!ke&&(u=O&&!C?0:1===O?1:1===C?2:3,we&&(f=!h&&"none"!==Ne[u+1]&&Ne[u+1]||Ne[u],v=r&&("complete"===f||"reset"===f||f in r))),ye&&(h||v)&&(v||Q||!r)&&(Tt(ye)?ye(Ue):Ue.getTrailing(ye).forEach(function(e){return e.endAnimation()})),we||(!L||ke||ot?r&&r.totalProgress(O,!(!ke||!Ge&&!e)):(L._dp._time-L._start!==L._time&&L.render(L._dp._time-L._start),L.resetTo?L.resetTo("totalProgress",O,r._tTime/r._tDur):(L.vars.totalProgress=O,L.invalidate().restart()))),te)if(e&&ne&&(x.style[ne+be.os2]=M),Le){if(p){if(g=!e&&O>C&&c+1>w&&w+1>=wt(Me,be),he)if(e||!i&&!g)zr(te,x);else{var D=qt(te,!0),z=w-l;zr(te,Ee,D.top+(be===fe?z:0)+Ht,D.left+(be===fe?0:z)+Ht)}Cr(i||g?y:b),A&&O<1&&i||S(T+(1!==O||g?0:E))}}else S(gt(T+E*O));ce&&!n.tween&&!ke&&!ot&&N.restart(!0),G&&(h||le&&O&&(O<1||!Je))&&Re(G.targets).forEach(function(e){return e.classList[i||le?"add":"remove"](G.className)}),q&&!we&&!e&&q(Ue),p&&!ke?(we&&(v&&("complete"===f?r.pause().totalProgress(1):"reset"===f?r.restart(!0).pause():"restart"===f?r.restart(!0):r[f]()),q&&q(Ue)),!h&&Je||(K&&h&&Rt(Ue,K),ze[u]&&Rt(Ue,ze[u]),le&&(1===O?Ue.kill(!1,1):ze[u]=0),h||ze[u=1===O?1:3]&&Rt(Ue,ze[u])),ve&&!i&&Math.abs(Ue.getVelocity())>(Et(ve)?ve:2500)&&(Ot(Ue.callbackAnimation),L?L.progress(1):Ot(r,"reverse"===f?1:!O,1))):we&&q&&!ke&&q(Ue)}if(P){var j=me?w/me.duration()*(me._caScrollDist||0):w;R(j+(d._isFlipped?1:0)),P(j)}B&&B(-w/me.duration()*(me._caScrollDist||0))}},Ue.enable=function(t,r){Ue.enabled||(Ue.enabled=!0,Qt(Me,"resize",fr),Ce||Qt(Me,"scroll",cr),He&&Qt(e,"refreshInit",He),!1!==t&&(Ue.progress=Ve=0,a=s=qe=Ke()),!1!==r&&Ue.refresh())},Ue.getTween=function(e){return e&&n?n.tween:L},Ue.setPositions=function(e,t,r,n){if(me){var o=me.scrollTrigger,i=me.duration(),a=o.end-o.start;e=o.start+a*e/i,t=o.start+a*t/i}Ue.refresh(!1,!1,{start:ut(e,r&&!!Ue._startClamp),end:ut(t,r&&!!Ue._endClamp)},n),Ue.update()},Ue.adjustPinSpacing=function(e){if(O&&e){var t=O.indexOf(be.d)+1;O[t]=parseFloat(O[t])+e+Ht,O[1]=parseFloat(O[1])+e+Ht,Cr(O)}},Ue.disable=function(t,r){if(Ue.enabled&&(!1!==t&&Ue.revert(!0,!0),Ue.enabled=Ue.isActive=!1,r||L&&L.pause(),F=0,o&&(o.uncache=1),He&&$t(e,"refreshInit",He),N&&(N.pause(),n.tween&&n.tween.kill()&&(n.tween=0)),!Ce)){for(var i=ar.length;i--;)if(ar[i].scroller===Me&&ar[i]!==Ue)return;$t(Me,"resize",fr),Ce||$t(Me,"scroll",cr)}},Ue.kill=function(e,n){Ue.disable(e,n),L&&!n&&L.kill(),V&&delete sr[V];var i=ar.indexOf(Ue);i>=0&&ar.splice(i,1),i===De&&Er>0&&De--,i=0,ar.forEach(function(e){return e.scroller===Ue.scroller&&(i=1)}),i||tt||(Ue.scroll.rec=0),r&&(r.scrollTrigger=null,e&&r.revert({kill:!1}),n||r.kill()),u&&[u,f,d,p].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),nt===Ue&&(nt=0),te&&(o&&(o.uncache=1),i=0,ar.forEach(function(e){return e.pin===te&&i++}),i||(o.spacer=0)),t.onKill&&t.onKill(Ue)},ar.push(Ue),Ue.enable(!1,!1),Y&&Y(Ue),r&&r.add&&!m){var at=Ue.update;Ue.update=function(){Ue.update=at,$.cache++,l||c||Ue.refresh()},xe.delayedCall(.01,Ue.update),m=.01,l=c=0}else Ue.refresh();te&&function(){if(rt!==xr){var e=rt=xr;requestAnimationFrame(function(){return e===xr&&Sr(!0)})}}()}else this.update=this.refresh=this.kill=ht},e.register=function(t){return we||(xe=t||vt(),mt()&&window.document&&e.enable(),we=lt),we},e.defaults=function(e){if(e)for(var t in e)tr[t]=e[t];return tr},e.disable=function(e,t){lt=0,ar.forEach(function(r){return r[t?"kill":"disable"](e)}),$t(_e,"wheel",cr),$t(Se,"scroll",cr),clearInterval(Ce),$t(Se,"touchcancel",ht),$t(Ee,"touchstart",ht),Zt($t,Se,"pointerdown,touchstart,mousedown",dt),Zt($t,Se,"pointerup,touchend,mouseup",pt),Oe.kill(),_t($t);for(var r=0;r<$.length;r+=3)Jt($t,$[r],$[r+1]),Jt($t,$[r],$[r+2])},e.enable=function(){if(_e=window,Se=document,Te=Se.documentElement,Ee=Se.body,xe&&(Re=xe.utils.toArray,Ae=xe.utils.clamp,Ge=xe.core.context||ht,Be=xe.core.suppressOverwrites||ht,Ve=_e.history.scrollRestoration||"auto",Tr=_e.pageYOffset||0,xe.core.globals("ScrollTrigger",e),Ee)){lt=1,(Ke=document.createElement("div")).style.height="100vh",Ke.style.position="absolute",wr(),ft(),be.register(xe),e.isTouch=be.isTouch,qe=be.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),He=1===be.isTouch,Qt(_e,"wheel",cr),Me=[_e,Se,Te,Ee],xe.matchMedia&&(e.matchMedia=function(e){var t,r=xe.matchMedia();for(t in e)r.add(t,e[t]);return r},xe.addEventListener("matchMediaInit",function(){return yr()}),xe.addEventListener("matchMediaRevert",function(){return vr()}),xe.addEventListener("matchMedia",function(){Sr(0,1),gr("matchMedia")}),xe.matchMedia().add("(orientation: portrait)",function(){return ur(),ur})),ur(),Qt(Se,"scroll",cr);var t,r,n=Ee.hasAttribute("style"),o=Ee.style,i=o.borderTopStyle,a=xe.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",t=qt(Ee),fe.m=Math.round(t.top+fe.sc())||0,ue.m=Math.round(t.left+ue.sc())||0,i?o.borderTopStyle=i:o.removeProperty("border-top-style"),n||(Ee.setAttribute("style",""),Ee.removeAttribute("style")),Ce=setInterval(lr,250),xe.delayedCall(.5,function(){return ot=0}),Qt(Se,"touchcancel",ht),Qt(Ee,"touchstart",ht),Zt(Qt,Se,"pointerdown,touchstart,mousedown",dt),Zt(Qt,Se,"pointerup,touchend,mouseup",pt),Le=xe.utils.checkPrefix("transform"),Rr.push(Le),we=it(),Oe=xe.delayedCall(.2,Sr).pause(),Fe=[Se,"visibilitychange",function(){var e=_e.innerWidth,t=_e.innerHeight;Se.hidden?(ze=e,Ne=t):ze===e&&Ne===t||fr()},Se,"DOMContentLoaded",Sr,_e,"load",Sr,_e,"resize",fr],_t(Qt),ar.forEach(function(e){return e.enable(0,1)}),r=0;r<$.length;r+=3)Jt($t,$[r],$[r+1]),Jt($t,$[r],$[r+2])}},e.config=function(t){"limitCallbacks"in t&&(Je=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(Ce)||(Ce=r)&&setInterval(lr,r),"ignoreMobileResize"in t&&(He=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(_t($t)||_t(Qt,t.autoRefreshEvents||"none"),Ye=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var r=de(e),n=$.indexOf(r),o=yt(r);~n&&$.splice(n,o?6:2),t&&(o?J.unshift(_e,t,Ee,t,Te,t):J.unshift(r,t))},e.clearMatchMedia=function(e){ar.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,r){var n=(St(e)?de(e):e).getBoundingClientRect(),o=n[r?It:Lt]*t||0;return r?n.right-o>0&&n.left+o<_e.innerWidth:n.bottom-o>0&&n.top+o<_e.innerHeight},e.positionInViewport=function(e,t,r){St(e)&&(e=de(e));var n=e.getBoundingClientRect(),o=n[r?It:Lt],i=null==t?o/2:t in rr?rr[t]*o:~t.indexOf("%")?parseFloat(t)*o/100:parseFloat(t)||0;return r?(n.left+i)/_e.innerWidth:(n.top+i)/_e.innerHeight},e.killAll=function(e){if(ar.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=dr.killAll||[];dr={},t.forEach(function(e){return e()})}},e}();Br.version="3.13.0",Br.saveStyles=function(e){return e?Re(e).forEach(function(e){if(e&&e.style){var t=mr.indexOf(e);t>=0&&mr.splice(t,5),mr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),xe.core.getCache(e),Ge())}}):mr},Br.revert=function(e,t){return yr(!e,t)},Br.create=function(e,t){return new Br(e,t)},Br.refresh=function(e){return e?fr(!0):(we||Br.register())&&Sr(!0)},Br.update=function(e){return++$.cache&&Mr(!0===e?2:0)},Br.clearScrollMemory=br,Br.maxScroll=function(e,t){return wt(e,t?ue:fe)},Br.getScrollFunc=function(e,t){return pe(de(e),t?ue:fe)},Br.getById=function(e){return sr[e]},Br.getAll=function(){return ar.filter(function(e){return"ScrollSmoother"!==e.vars.id})},Br.isScrolling=function(){return!!st},Br.snapDirectional=Kt,Br.addEventListener=function(e,t){var r=dr[e]||(dr[e]=[]);~r.indexOf(t)||r.push(t)},Br.removeEventListener=function(e,t){var r=dr[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)},Br.batch=function(e,t){var r,n=[],o={},i=t.interval||.016,a=t.batchMax||1e9,s=function(e,t){var r=[],n=[],o=xe.delayedCall(i,function(){t(r,n),r=[],n=[]}).pause();return function(e){r.length||o.restart(!0),r.push(e.trigger),n.push(e),a<=r.length&&o.progress(1)}};for(r in t)o[r]="on"===r.substr(0,2)&&Tt(t[r])&&"onRefreshInit"!==r?s(0,t[r]):t[r];return Tt(a)&&(a=a(),Qt(Br,"refresh",function(){return a=t.batchMax()})),Re(e).forEach(function(e){var t={};for(r in o)t[r]=o[r];t.trigger=e,n.push(Br.create(t))}),n};var Yr,Ur=function(e,t,r,n){return t>n?e(n):t<0&&e(0),r>n?(n-t)/(r-t):r<0?t/(t-r):1},Hr=function e(t,r){!0===r?t.style.removeProperty("touch-action"):t.style.touchAction=!0===r?"auto":r?"pan-"+r+(be.isTouch?" pinch-zoom":""):"none",t===Te&&e(Ee,r)},Xr={auto:1,scroll:1},Wr=function(e){var t,r=e.event,n=e.target,o=e.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,a=i._gsap||xe.core.getCache(i),s=it();if(!a._isScrollT||s-a._isScrollT>2e3){for(;i&&i!==Ee&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!Xr[(t=Xt(i)).overflowY]&&!Xr[t.overflowX]);)i=i.parentNode;a._isScroll=i&&i!==n&&!yt(i)&&(Xr[(t=Xt(i)).overflowY]||Xr[t.overflowX]),a._isScrollT=s}(a._isScroll||"x"===o)&&(r.stopPropagation(),r._gsapAllow=!0)},qr=function(e,t,r,n){return be.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:n=n&&Wr,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return r&&Qt(Se,be.eventTypes[0],Vr,!1,!0)},onDisable:function(){return $t(Se,be.eventTypes[0],Vr,!0)}})},Gr=/(input|label|select|textarea)/i,Vr=function(e){var t=Gr.test(e.target.tagName);(t||Yr)&&(e._gsapAllow=!0,Yr=t)},Kr=function(e){Mt(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,r,n,o,i,a,s,l,c=e,u=c.normalizeScrollX,f=c.momentum,d=c.allowNestedScroll,p=c.onRelease,h=de(e.target)||Te,g=xe.core.globals().ScrollSmoother,m=g&&g.get(),v=qe&&(e.content&&de(e.content)||m&&!1!==e.content&&!m.smooth()&&m.content()),y=pe(h,fe),b=pe(h,ue),x=1,w=(be.isTouch&&_e.visualViewport?_e.visualViewport.scale*_e.visualViewport.width:_e.outerWidth)/_e.innerWidth,_=0,S=Tt(f)?function(){return f(t)}:function(){return f||2.8},T=qr(h,e.type,!0,d),E=function(){return o=!1},M=ht,O=ht,R=function(){r=wt(h,fe),O=Ae(qe?1:0,r),u&&(M=Ae(0,wt(h,ue))),n=xr},A=function(){v._gsap.y=gt(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},P=function(){R(),i.isActive()&&i.vars.scrollY>r&&(y()>r?i.progress(1)&&y(r):i.resetTo("scrollY",r))};return v&&xe.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return qe&&"touchmove"===e.type&&function(){if(o){requestAnimationFrame(E);var e=gt(t.deltaY/2),r=O(y.v-e);if(v&&r!==y.v+y.offset){y.offset=r-y.v;var n=gt((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+n+", 0, 1)",v._gsap.y=n+"px",y.cacheID=$.cache,Mr()}return!0}y.offset&&A(),o=!0}()||x>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){o=!1;var e=x;x=gt((_e.visualViewport&&_e.visualViewport.scale||1)/w),i.pause(),e!==x&&Hr(h,x>1.01||!u&&"x"),a=b(),s=y(),R(),n=xr},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&A(),t){$.cache++;var n,o,a=S();u&&(o=(n=b())+.05*a*-e.velocityX/.227,a*=Ur(b,n,o,wt(h,ue)),i.vars.scrollX=M(o)),o=(n=y())+.05*a*-e.velocityY/.227,a*=Ur(y,n,o,wt(h,fe)),i.vars.scrollY=O(o),i.invalidate().duration(a).play(.01),(qe&&i.vars.scrollY>=r||n>=r-1)&&xe.to({},{onUpdate:P,duration:a})}else l.restart(!0);p&&p(e)},e.onWheel=function(){i._ts&&i.pause(),it()-_>1e3&&(n=0,_=it())},e.onChange=function(e,t,r,o,i){if(xr!==n&&R(),t&&u&&b(M(o[2]===t?a+(e.startX-e.x):b()+t-o[1])),r){y.offset&&A();var l=i[2]===r,c=l?s+e.startY-e.y:y()+r-i[1],f=O(c);l&&c!==f&&(s+=f-c),y(f)}(r||t)&&Mr()},e.onEnable=function(){Hr(h,!u&&"x"),Br.addEventListener("refresh",P),Qt(_e,"resize",P),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),T.enable()},e.onDisable=function(){Hr(h,!0),$t(_e,"resize",P),Br.removeEventListener("refresh",P),T.kill()},e.lockAxis=!1!==e.lockAxis,(t=new be(e)).iOS=qe,qe&&!y()&&y(1),qe&&xe.ticker.add(ht),l=t._dc,i=xe.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Nr(y,y(),function(){return i.pause()})},onUpdate:Mr,onComplete:l.vars.onComplete}),t};Br.sort=function(e){if(Tt(e))return ar.sort(e);var t=_e.pageYOffset||0;return Br.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+_e.innerHeight}),ar.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},Br.observe=function(e){return new be(e)},Br.normalizeScroll=function(e){if(void 0===e)return Ue;if(!0===e&&Ue)return Ue.enable();if(!1===e)return Ue&&Ue.kill(),void(Ue=e);var t=e instanceof be?e:Kr(e);return Ue&&Ue.target===t.target&&Ue.kill(),yt(t.target)&&(Ue=t),t},Br.core={_getVelocityProp:he,_inputObserver:qr,_scrollers:$,_proxies:J,bridge:{ss:function(){st||gr("scrollStart"),st=it()},ref:function(){return ke}}},vt()&&xe.registerPlugin(Br);const Zr={desktop:{"first-move":{trigger:".first-move",roomAnimation:{scale:{x:.11,y:.11,z:.11},position:{x:"size.width * 0.0014"}}},"second-move":{trigger:".second-move",roomAnimation:{position:{x:1,z:"size.height * 0.0032"},scale:{x:.4,y:.4,z:.4}},rectLightAnimation:{width:"0.5 * 4",height:"0.7 * 4"}},"third-move":{trigger:".third-move",cameraAnimation:{position:{y:1.5,x:-4.1}}},"fourth-move":{trigger:".fourth-move",roomAnimation:{scale:{x:.11,y:.11,z:.11},position:{x:"size.width * -0.0014",y:-.1}},cameraAnimation:{position:{x:-.3,y:-.8,z:1}}}},mobile:{"first-move":{trigger:".first-move",roomAnimation:{scale:{x:.1,y:.1,z:.1}}},"second-move":{trigger:".second-move",roomAnimation:{scale:{x:.25,y:.25,z:.25},position:{x:1.5}},rectLightAnimation:{width:"0.3 * 3.4",height:"0.4 * 3.4"}},"third-move":{trigger:".third-move",roomAnimation:{position:{z:-4.5}}},"fourth-move":{trigger:".fourth-move",roomAnimation:{scale:{x:.1,y:.1,z:.1},position:{x:0,y:-.1,z:-2}}}}},Qr=[{trigger:".first-move",circleIndex:0,scale:{x:3,y:3,z:3}},{trigger:".second-move",circleIndex:1,scale:{x:3,y:3,z:3},roomPosition:{y:.7}},{trigger:".third-move",circleIndex:2,scale:{x:3,y:3,z:3}},{trigger:".fourth-move",circleIndex:3,scale:{x:3,y:3,z:3}}],$r={borderTopRightRadius:10,borderBottomRightRadius:700},Jr={borderTopLeftRadius:10,borderBottomLeftRadius:700};O.registerPlugin(Br);const en=({roomRef:t,floorRef:r})=>{const{camera:n,size:o}=p(),{controlsEnabled:i,childrenMap:a,rectLightRef:s}=_(),l=e.useRef(null),c=A(),u=P(),f=(()=>{const e=P();return S.ANIMATION_QUALITY[e.toUpperCase()]||S.ANIMATION_QUALITY.MEDIUM})(),d=window.matchMedia("(prefers-reduced-motion: reduce)").matches,h=d?.1:c?S.SCRUB.MOBILE:"medium"===u?S.SCRUB.LAPTOP:S.SCRUB.DESKTOP,g=(()=>{if(d)return.1;const e=S.PROGRESS_BAR_SCRUB[u.toUpperCase()]||S.PROGRESS_BAR_SCRUB.DESKTOP;return Math.min(.4,e)})(),m=f.skipComplexAnimations;return R(()=>{if(!i)return Br.getAll().forEach(e=>e.kill()),void(l.current&&(l.current(),l.current=null));(()=>{if(!t.current||!r.current)return;if(n&&t.current){if(n.position.set(0,6.5,10),n.isOrthographicCamera){n.rotation.x=-Math.PI/6;const e=o.width/o.height,t=5;n.left=-e*t/2,n.right=e*t/2,n.top=t/2,n.bottom=-t/2,n.updateProjectionMatrix()}t.current.scale.set(.11,.11,.11),t.current.position.set(0,0,0)}const e=document.querySelector(".page");e&&(e.style.overflow="visible"),Br.scrollerProxy(null);const i=e=>{if("string"==typeof e){let t=e.replace(/size\.width/g,String(o.width)).replace(/size\.height/g,String(o.height));if(!/^[0-9\s.+\-*/]+$/.test(t))return Number(t)||0;const r=t.match(/-?\d+(?:\.\d+)?|[+\-*/]/g);if(!r)return Number(t)||0;let n=[],i=[],a=parseFloat(r[0]);for(let e=1;e<r.length;e+=2){const t=r[e],o=parseFloat(r[e+1]);"*"===t||"/"===t?a="*"===t?a*o:a/o:(n.push(a),i.push(t),a=o)}n.push(a);let s=n[0];for(let e=0;e<i.length;e++)"+"===i[e]?s+=n[e+1]:s-=n[e+1];return s}return e},l=(e,r)=>{Object.values(e[r]||{}).forEach(e=>{const r=O.timeline({scrollTrigger:{trigger:e.trigger,start:"top top",end:"bottom bottom",scrub:h,invalidateOnRefresh:!0}});if(e.roomAnimation){const{position:n,scale:o,rotation:a}=e.roomAnimation;if(n){const e={};Object.entries(n).forEach(([t,r])=>{e[t]=i(r)}),r.to(t.current.position,e,"same")}o&&r.to(t.current.scale,o,"same"),a&&r.to(t.current.rotation,a,"same")}if(e.cameraAnimation){const{position:t,rotation:o}=e.cameraAnimation;t&&r.to(n.position,t,"same"),o&&r.to(n.rotation,o,"same")}if(e.rectLightAnimation&&s?.current){const t={};Object.entries(e.rectLightAnimation).forEach(([e,r])=>{t[e]=i(r)}),r.to(s.current,t,"same")}})};Br.matchMedia({"(min-width: 969px)":()=>{t.current.scale.set(.11,.11,.11),s?.current&&(s.current.width=.5,s.current.height=.7),n.position.set(0,6.5,10),t.current.position.set(0,0,0),m?(Br.batch(".section",{onEnter:e=>{e.forEach((e,t)=>{O.fromTo(e,{opacity:0,y:50},{opacity:1,y:0,duration:.6,delay:.1*t,ease:"power2.out"})})},once:!0}),O.timeline({scrollTrigger:{trigger:"body",start:"top top",end:"bottom bottom",scrub:1.5*h,onUpdate:e=>{const r=e.progress;t.current.position.x=1*r,t.current.scale.setScalar(.11+.29*r)}}})):l(Zr,"desktop")},"(max-width: 968px)":()=>{t.current.scale.set(.07,.07,.07),t.current.position.set(0,0,0),s?.current&&(s.current.width=.3,s.current.height=.4),n.position.set(0,6.5,10),l(Zr,"mobile")},all:()=>{if(document.querySelectorAll(".section").forEach(e=>{const t=e.querySelector(".progress-wrapper"),r=e.querySelector(".progress-bar");e.classList.contains("right")?(O.to(e,{borderTopLeftRadius:Jr.borderTopLeftRadius,ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"top top",scrub:h,invalidateOnRefresh:!0}}),O.to(e,{borderBottomLeftRadius:Jr.borderBottomLeftRadius,ease:"none",scrollTrigger:{trigger:e,start:"bottom bottom",end:"bottom top",scrub:h,invalidateOnRefresh:!0}})):(O.to(e,{borderTopRightRadius:$r.borderTopRightRadius,ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"top top",scrub:h,invalidateOnRefresh:!0}}),O.to(e,{borderBottomRightRadius:$r.borderBottomRightRadius,ease:"none",scrollTrigger:{trigger:e,start:"bottom bottom",end:"bottom top",scrub:h,invalidateOnRefresh:!0}})),r&&O.fromTo(r,{scaleY:0,transformOrigin:"top center"},{scaleY:1,transformOrigin:"top center",ease:"none",scrollTrigger:{trigger:e,start:"top top",end:"bottom bottom",scrub:g,pin:!c&&t,pinSpacing:!1,invalidateOnRefresh:!0,refreshPriority:1}})}),r.current){const e=[];r.current.traverse(t=>{"CircleGeometry"===t.geometry?.type&&e.push(t)}),Qr.forEach(r=>{if(e[r.circleIndex]){const n=O.timeline({scrollTrigger:{trigger:r.trigger,start:"top top",end:"bottom bottom",scrub:h,invalidateOnRefresh:!0}});n.to(e[r.circleIndex].scale,{...r.scale,ease:"none"},"same"),r.roomPosition&&n.to(t.current.position,{...r.roomPosition,ease:"none"},"same")}})}if(a&&Object.keys(a).length){const e=O.timeline({scrollTrigger:{trigger:".third-move",start:"center center"}}),t=a;t.mini_floor&&e.to(t.mini_floor.position,{x:-5.44055,z:13.6135,duration:.3});const r=(t,r="+=0")=>{t?.scale&&e.to(t.scale,{x:1,y:1,z:1,duration:.3,ease:"back.out(2)"},r)};r(t.mailbox,"+=0"),r(t.lamp,"+=0"),r(t.floor_first,"-=0.2"),r(t.floor_second,"-=0.2"),r(t.floor_third,"-=0.2"),r(t.dirt,"-=0.2"),r(t.flower1,"+=0"),r(t.flower2,"-=0.1")}}})})();const e=()=>{if(n?.isOrthographicCamera){const e=o.width/o.height,t=5;n.left=-e*t/2,n.right=e*t/2,n.top=t/2,n.bottom=-t/2,n.updateProjectionMatrix()}Br.refresh()};return window.addEventListener("resize",e),()=>{if(window.removeEventListener("resize",e),Br.getAll().forEach(e=>e.kill()),l.current&&(l.current(),l.current=null),"undefined"!=typeof window){const e=document.querySelector(".page");e&&(e.style.overflow="hidden")}}},[n,t,r,o.width,o.height,i,a,s]),null},tn=(e,t,r)=>{if(!e?.isOrthographicCamera)return;const n=t/r,o=T.FRUSTUM;Object.assign(e,{left:-n*o/2,right:n*o/2,top:o/2,bottom:-o/2,near:T.NEAR,far:T.FAR}),e.position.set(...T.DEFAULT_POSITION),e.rotation.x=T.DEFAULT_ROTATION_X,e.updateProjectionMatrix()},rn=()=>{const{theme:t}=E(),r=e.useRef(),n=e.useRef(),{size:o}=p(),{roomRef:i,floorRef:a,setCamera:s}=_(),l=P(),c=(()=>{switch(l){case"medium":return A()?{shadowMapSize:M.SHADOW_MAP_SIZE.MOBILE,enableShadows:!0}:{shadowMapSize:M.SHADOW_MAP_SIZE.LAPTOP,enableShadows:!0};case"high":return{shadowMapSize:M.SHADOW_MAP_SIZE.DESKTOP,enableShadows:!0};default:return{shadowMapSize:M.SHADOW_MAP_SIZE.LAPTOP,enableShadows:!0}}})();e.useEffect(()=>{i.current=r.current,a.current=n.current},[i,a]);return u.jsxs(u.Fragment,{children:[u.jsx(h,{makeDefault:!0,position:T.DEFAULT_POSITION,rotation:[T.DEFAULT_ROTATION_X,0,0],near:T.NEAR,far:T.FAR,left:-o.width/o.height*T.FRUSTUM/2,right:o.width/o.height*T.FRUSTUM/2,top:T.FRUSTUM/2,bottom:-2.5,zoom:T.ZOOM,onUpdate:e=>{tn(e,o.width,o.height),s?.(e)}}),u.jsx(L,{theme:t}),u.jsx(g,{preset:"night"}),u.jsx(I,{ref:n}),u.jsx(k,{ref:r}),c.enableShadows&&u.jsx(m,{position:[0,1,0],opacity:0,width:4,height:4,blur:0,far:0}),u.jsx(en,{roomRef:r,floorRef:n})]})},nn=()=>{const{setCamera:t}=_(),r=A(),n=(()=>{const e=P(),t=window.devicePixelRatio||1;switch(e){case"medium":return A()?Math.min(t,.8):Math.min(t,1);case"high":return Math.min(t,1.5);default:return Math.min(t,1)}})(),o=e.useCallback(e=>{const{gl:o,camera:a,size:s}=e;o.useLegacyLights=!1,o.outputColorSpace=i,o.toneMapping=v,o.toneMappingExposure=M.TONE_MAPPING_EXPOSURE,o.shadowMap.enabled=!r,o.shadowMap.type=y,o.setPixelRatio(n),tn(a,s.width,s.height),t(a)},[t,r,n]),a=(()=>{const e=A(),t=window.innerWidth/window.innerHeight,r=T.FRUSTUM;return{orthographic:!0,zoom:T.ZOOM,position:T.DEFAULT_POSITION,near:T.NEAR,far:T.FAR,left:-t*r/2,right:t*r/2,top:r/2,bottom:-r/2,...e&&{antialias:!1,powerPreference:"low-power"}}})();return u.jsx(b,{orthographic:!0,camera:a,gl:{antialias:!r,alpha:!0,powerPreference:r?"low-power":"high-performance"},dpr:n,onCreated:o,shadows:1,children:u.jsx(e.Suspense,{fallback:null,children:u.jsx(rn,{})})})},on=()=>u.jsx("div",{className:"experience-canvas",children:u.jsx(nn,{})});export{on as default};
