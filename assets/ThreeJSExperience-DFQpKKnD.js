import{r as e,u as t,M as r,V as n,N as o,S as i,a,A as s,b as l,d as c,j as u,e as f,C as d,f as p,O as h,g,h as m,P as v,i as y}from"./three-BUw8EkIg.js";import{A as b,S as x,u as w,a as _,C as S,b as T,W as E}from"./index-Dd1yAbiB.js";import{g as M,u as O}from"./gsap-BJHUUXgE.js";import"./vendor-HnKmhvXM.js";const R=()=>{if("undefined"==typeof window)return!1;const e=window.innerWidth<968,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t},A=()=>R()||(()=>{if("undefined"==typeof window)return!1;const e=window.innerWidth,t=window.devicePixelRatio||1,r=navigator.hardwareConcurrency||4;return e>=1024&&e<=1920&&(t<=1.5||r<=8)})()?"medium":"high",P=e.forwardRef((d,p)=>{const h=e.useRef(),g=e.useRef(null);t.setDecoderPath(b.DRACO);const[m,v]=e.useState(()=>R()?x.ROOM_SCALE.MOBILE:x.ROOM_SCALE.DESKTOP);let y,_;const S=t(b.MODELS.ROOM,!0);y=S.scene,_=S.animations||[];const{setChildrenMap:T,roomRef:E,rectLightRef:M}=w(),O=e.useRef({current:0,target:0,ease:.1}),A=e=>{const t=2*(e.clientX-window.innerWidth/2)/window.innerWidth;O.current.target=.05*t};return e.useEffect(()=>(window.addEventListener("mousemove",A),()=>window.removeEventListener("mousemove",A)),[]),e.useEffect(()=>{const e=()=>{const e=R()?x.ROOM_SCALE.MOBILE:x.ROOM_SCALE.DESKTOP;v(e)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e.useEffect(()=>{let e,t={};if(y){e=y;const s={cube:["Cube","cube"],aquarium:["Aquarium","aquarium","FishTank","fish_tank"],computer:["Computer","computer","PC","pc"],screen:["Screen","screen","Monitor_Screen"],clock:["Clock","clock"],shelves:["Shelves","shelves","Shelf","shelf"],floor_items:["Floor_Items","floor_items","FloorItems"],desks:["Desks","desks","Desk","desk","Table","table"],table_stuff:["Table_Stuff","table_stuff","TableStuff"],mini_floor:["Mini_Floor","mini_floor"],chair:["Chair","chair"],fish:["Fish","fish"],body:["Body","body","Room","room"],mailbox:["Mailbox","mailbox"],lamp:["Lamp","lamp"],floor_first:["FloorFirst","floorfirst","Floor_First","floor_first"],floor_second:["FloorSecond","floorsecond","Floor_Second","floor_second"],floor_third:["FloorThird","floorthird","Floor_Third","floor_third"],dirt:["Dirt","dirt"],flower1:["Flower1","flower1","Flower_1"],flower2:["Flower2","flower2","Flower_2"]},l=e=>e?.toLowerCase?.()||"";if(y.traverse(e=>{(e.isMesh||e.isGroup)&&(e.castShadow=!0,e.receiveShadow=!0);const r=l(e.name);Object.entries(s).forEach(([n,o])=>{t[n]||o.some(e=>l(e)===r)&&(t[n]=e)})}),t.aquarium){const e=new r({color:5545426,roughness:0,transmission:1,ior:3,opacity:1,depthWrite:!1,depthTest:!1});t.aquarium.children?.[0]?.material?t.aquarium.children[0].material=e:t.aquarium.material&&(t.aquarium.material=e)}if(t.computer||t.screen){const e=document.createElement("video");e.src=b.TEXTURES.VIDEO,e.muted=!0,e.loop=!0,e.playsInline=!0,e.autoplay=!0,e.play();const r=new n(e);r.minFilter=o,r.magFilter=o,r.generateMipmaps=!1,r.colorSpace=i;const s=new a({map:r}),l=t.screen||t.computer?.children?.[1];l?.material&&(l.material=s)}t.mini_floor&&(t.mini_floor.position.x=-.289521,t.mini_floor.position.z=8.83572)}if(t.cube){t.cube.position.set(0,0,0),t.cube.rotation.y=Math.PI/4;R()?t.cube.scale.set(0,0,0):t.cube.scale.set(.001,.001,.001)}if(["aquarium","clock","shelves","floor_items","desks","table_stuff","computer","mini_floor","chair","fish","mailbox","lamp","floor_first","floor_second","floor_third","dirt","flower1","flower2","body"].forEach(e=>{const r=t[e];r?.scale?.set&&r.scale.set(0,0,0)}),_.length&&e){g.current=new s(e);g.current.clipAction(_[0]).play()}const c=new l(16777215,1,.5,.7);c.position.set(7.68244,7,.5),c.rotation.x=-Math.PI/2,c.rotation.z=Math.PI/4,e.add(c),t.rectLight=c,M&&(M.current=c),T(t)},[y,_,T,M]),c(e=>{const t=p?.current||h.current;t&&(O.current.current=f.lerp(O.current.current,O.current.target,O.current.ease),t.rotation.y=O.current.current),g.current&&g.current.update(.9*e.clock.getDelta())}),u.jsx("group",{ref:e=>{p&&("function"==typeof p?p(e):p.current=e),h.current=e,E.current=e},scale:m,position:[0,.7,0],...d,children:y&&u.jsx("primitive",{object:y})})});P.displayName="Room",t.preload(b.MODELS.ROOM);const C=e.memo(P),k=e.forwardRef((e,t)=>u.jsxs("group",{ref:t,...e,children:[u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[.5,-.29,0],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#eb7f8e"})]}),u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[2.1,-.28,0],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#6176b7"})]}),u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[1,-.27,4],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#16ee94"})]}),u.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.26,2],scale:[0,0,0],receiveShadow:!0,children:[u.jsx("circleGeometry",{args:[5,64]}),u.jsx("meshStandardMaterial",{color:"#c8976f"})]})]}));k.displayName="Floor";const I=({theme:t})=>{const r=e.useRef(),n=e.useMemo(()=>new d("dark"===t?"#ebdaef":"#ffffff"),[t]),o="dark"===t?x.LIGHTS.DIRECTIONAL.INTENSITY.DARK:x.LIGHTS.DIRECTIONAL.INTENSITY.LIGHT,i="dark"===t?x.LIGHTS.AMBIENT.INTENSITY.DARK:x.LIGHTS.AMBIENT.INTENSITY.LIGHT;return e.useEffect(()=>{if(!r.current)return;const e=r.current;M.to(e.color,{r:n.r,g:n.g,b:n.b,duration:_.DURATION.MEDIUM}),M.to(e,{intensity:o,duration:_.DURATION.MEDIUM})},[n.r,n.g,n.b,o]),u.jsxs(u.Fragment,{children:[u.jsx("directionalLight",{ref:r,color:n,intensity:o,position:x.LIGHTS.DIRECTIONAL.POSITION,castShadow:!0,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-normalBias":.05}),u.jsx("ambientLight",{color:n,intensity:i},t),u.jsx("hemisphereLight",{skyColor:16777215,groundColor:4473924,intensity:0}),u.jsx("spotLight",{position:[9,-1,-5],angle:12,penumbra:5,intensity:1,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),u.jsx("rectAreaLight",{color:"#ffffff",intensity:1,width:.5,height:.7,position:[8,3,1]})]})};function L(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}
/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var D,z,N,F,j,B,Y,U,H,X,W,q,G,V=function(){return D||"undefined"!=typeof window&&(D=window.gsap)&&D.registerPlugin&&D},K=1,Z=[],Q=[],$=[],J=Date.now,ee=function(e,t){return t},te=function(e,t){return~$.indexOf(e)&&$[$.indexOf(e)+1][t]},re=function(e){return!!~X.indexOf(e)},ne=function(e,t,r,n,o){return e.addEventListener(t,r,{passive:!1!==n,capture:!!o})},oe=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},ie="scrollLeft",ae="scrollTop",se=function(){return W&&W.isPressed||Q.cache++},le=function(e,t){var r=function r(n){if(n||0===n){K&&(N.history.scrollRestoration="manual");var o=W&&W.isPressed;n=r.v=Math.round(n)||(W&&W.iOS?1:0),e(n),r.cacheID=Q.cache,o&&ee("ss",n)}else(t||Q.cache!==r.cacheID||ee("ref"))&&(r.cacheID=Q.cache,r.v=e());return r.v+r.offset};return r.offset=0,e&&r},ce={s:ie,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:le(function(e){return arguments.length?N.scrollTo(e,ue.sc()):N.pageXOffset||F[ie]||j[ie]||B[ie]||0})},ue={s:ae,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ce,sc:le(function(e){return arguments.length?N.scrollTo(ce.sc(),e):N.pageYOffset||F[ae]||j[ae]||B[ae]||0})},fe=function(e,t){return(t&&t._ctx&&t._ctx.selector||D.utils.toArray)(e)[0]||("string"==typeof e&&!1!==D.config().nullTargetWarn?void 0:null)},de=function(e,t){var r=t.s,n=t.sc;re(e)&&(e=F.scrollingElement||j);var o=Q.indexOf(e),i=n===ue.sc?1:2;!~o&&(o=Q.push(e)-1),Q[o+i]||ne(e,"scroll",se);var a=Q[o+i],s=a||(Q[o+i]=le(te(e,r),!0)||(re(e)?n:le(function(t){return arguments.length?e[r]=t:e[r]})));return s.target=e,a||(s.smooth="smooth"===D.getProperty(e,"scrollBehavior")),s},pe=function(e,t,r){var n=e,o=e,i=J(),a=i,s=t||50,l=Math.max(500,3*s),c=function(e,t){var l=J();t||l-i>s?(o=n,n=e,a=i,i=l):r?n+=e:n=o+(e-o)/(l-a)*(i-a)};return{update:c,reset:function(){o=n=r?0:n,a=i=0},getVelocity:function(e){var t=a,s=o,u=J();return(e||0===e)&&e!==n&&c(e),i===a||u-a>l?0:(n+(r?s:-s))/((r?u:i)-t)*1e3}}},he=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},ge=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},me=function(){var e,t,r,n;(H=D.core.globals().ScrollTrigger)&&H.core&&(e=H.core,t=e.bridge||{},r=e._scrollers,n=e._proxies,r.push.apply(r,Q),n.push.apply(n,$),Q=r,$=n,ee=function(e,r){return t[e](r)})},ve=function(e){return D=e||V(),!z&&D&&"undefined"!=typeof document&&document.body&&(N=window,F=document,j=F.documentElement,B=F.body,X=[N,F,j,B],D.utils.clamp,G=D.core.context||function(){},U="onpointerenter"in B?"pointer":"mouse",Y=ye.isTouch=N.matchMedia&&N.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in N||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,q=ye.eventTypes=("ontouchstart"in j?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in j?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return K=0},500),me(),z=1),z};ce.op=ue,Q.cache=0;var ye=function(){function e(e){this.init(e)}return e.prototype.init=function(e){z||ve(D),H||me();var t=e.tolerance,r=e.dragMinimum,n=e.type,o=e.target,i=e.lineHeight,a=e.debounce,s=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,f=e.wheelSpeed,d=e.event,p=e.onDragStart,h=e.onDragEnd,g=e.onDrag,m=e.onPress,v=e.onRelease,y=e.onRight,b=e.onLeft,x=e.onUp,w=e.onDown,_=e.onChangeX,S=e.onChangeY,T=e.onChange,E=e.onToggleX,M=e.onToggleY,O=e.onHover,R=e.onHoverEnd,A=e.onMove,P=e.ignoreCheck,C=e.isNormalizer,k=e.onGestureStart,I=e.onGestureEnd,L=e.onWheel,X=e.onEnable,V=e.onDisable,K=e.onClick,Q=e.scrollSpeed,$=e.capture,ee=e.allowClicks,te=e.lockAxis,ie=e.onLockAxis;this.target=o=fe(o)||j,this.vars=e,u&&(u=D.utils.toArray(u)),t=t||1e-9,r=r||0,f=f||1,Q=Q||1,n=n||"wheel,touch,pointer",a=!1!==a,i||(i=parseFloat(N.getComputedStyle(B).lineHeight)||22);var ae,le,ye,be,xe,we,_e,Se=this,Te=0,Ee=0,Me=e.passive||!s&&!1!==e.passive,Oe=de(o,ce),Re=de(o,ue),Ae=Oe(),Pe=Re(),Ce=~n.indexOf("touch")&&!~n.indexOf("pointer")&&"pointerdown"===q[0],ke=re(o),Ie=o.ownerDocument||F,Le=[0,0,0],De=[0,0,0],ze=0,Ne=function(){return ze=J()},Fe=function(e,t){return(Se.event=e)&&u&&function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1}(e.target,u)||t&&Ce&&"touch"!==e.pointerType||P&&P(e,t)},je=function(){var e=Se.deltaX=ge(Le),r=Se.deltaY=ge(De),n=Math.abs(e)>=t,o=Math.abs(r)>=t;T&&(n||o)&&T(Se,e,r,Le,De),n&&(y&&Se.deltaX>0&&y(Se),b&&Se.deltaX<0&&b(Se),_&&_(Se),E&&Se.deltaX<0!=Te<0&&E(Se),Te=Se.deltaX,Le[0]=Le[1]=Le[2]=0),o&&(w&&Se.deltaY>0&&w(Se),x&&Se.deltaY<0&&x(Se),S&&S(Se),M&&Se.deltaY<0!=Ee<0&&M(Se),Ee=Se.deltaY,De[0]=De[1]=De[2]=0),(be||ye)&&(A&&A(Se),ye&&(p&&1===ye&&p(Se),g&&g(Se),ye=0),be=!1),we&&!(we=!1)&&ie&&ie(Se),xe&&(L(Se),xe=!1),ae=0},Be=function(e,t,r){Le[r]+=e,De[r]+=t,Se._vx.update(e),Se._vy.update(t),a?ae||(ae=requestAnimationFrame(je)):je()},Ye=function(e,t){te&&!_e&&(Se.axis=_e=Math.abs(e)>Math.abs(t)?"x":"y",we=!0),"y"!==_e&&(Le[2]+=e,Se._vx.update(e,!0)),"x"!==_e&&(De[2]+=t,Se._vy.update(t,!0)),a?ae||(ae=requestAnimationFrame(je)):je()},Ue=function(e){if(!Fe(e,1)){var t=(e=he(e,s)).clientX,n=e.clientY,o=t-Se.x,i=n-Se.y,a=Se.isDragging;Se.x=t,Se.y=n,(a||(o||i)&&(Math.abs(Se.startX-t)>=r||Math.abs(Se.startY-n)>=r))&&(ye=a?2:1,a||(Se.isDragging=!0),Ye(o,i))}},He=Se.onPress=function(e){Fe(e,1)||e&&e.button||(Se.axis=_e=null,le.pause(),Se.isPressed=!0,e=he(e),Te=Ee=0,Se.startX=Se.x=e.clientX,Se.startY=Se.y=e.clientY,Se._vx.reset(),Se._vy.reset(),ne(C?o:Ie,q[1],Ue,Me,!0),Se.deltaX=Se.deltaY=0,m&&m(Se))},Xe=Se.onRelease=function(e){if(!Fe(e,1)){oe(C?o:Ie,q[1],Ue,!0);var t=!isNaN(Se.y-Se.startY),r=Se.isDragging,n=r&&(Math.abs(Se.x-Se.startX)>3||Math.abs(Se.y-Se.startY)>3),i=he(e);!n&&t&&(Se._vx.reset(),Se._vy.reset(),s&&ee&&D.delayedCall(.08,function(){if(J()-ze>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(Ie.createEvent){var t=Ie.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,N,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),Se.isDragging=Se.isGesturing=Se.isPressed=!1,l&&r&&!C&&le.restart(!0),ye&&je(),h&&r&&h(Se),v&&v(Se,n)}},We=function(e){return e.touches&&e.touches.length>1&&(Se.isGesturing=!0)&&k(e,Se.isDragging)},qe=function(){return(Se.isGesturing=!1)||I(Se)},Ge=function(e){if(!Fe(e)){var t=Oe(),r=Re();Be((t-Ae)*Q,(r-Pe)*Q,1),Ae=t,Pe=r,l&&le.restart(!0)}},Ve=function(e){if(!Fe(e)){e=he(e,s),L&&(xe=!0);var t=(1===e.deltaMode?i:2===e.deltaMode?N.innerHeight:1)*f;Be(e.deltaX*t,e.deltaY*t,0),l&&!C&&le.restart(!0)}},Ke=function(e){if(!Fe(e)){var t=e.clientX,r=e.clientY,n=t-Se.x,o=r-Se.y;Se.x=t,Se.y=r,be=!0,l&&le.restart(!0),(n||o)&&Ye(n,o)}},Ze=function(e){Se.event=e,O(Se)},Qe=function(e){Se.event=e,R(Se)},$e=function(e){return Fe(e)||he(e,s)&&K(Se)};le=Se._dc=D.delayedCall(c||.25,function(){Se._vx.reset(),Se._vy.reset(),le.pause(),l&&l(Se)}).pause(),Se.deltaX=Se.deltaY=0,Se._vx=pe(0,50,!0),Se._vy=pe(0,50,!0),Se.scrollX=Oe,Se.scrollY=Re,Se.isDragging=Se.isGesturing=Se.isPressed=!1,G(this),Se.enable=function(e){return Se.isEnabled||(ne(ke?Ie:o,"scroll",se),n.indexOf("scroll")>=0&&ne(ke?Ie:o,"scroll",Ge,Me,$),n.indexOf("wheel")>=0&&ne(o,"wheel",Ve,Me,$),(n.indexOf("touch")>=0&&Y||n.indexOf("pointer")>=0)&&(ne(o,q[0],He,Me,$),ne(Ie,q[2],Xe),ne(Ie,q[3],Xe),ee&&ne(o,"click",Ne,!0,!0),K&&ne(o,"click",$e),k&&ne(Ie,"gesturestart",We),I&&ne(Ie,"gestureend",qe),O&&ne(o,U+"enter",Ze),R&&ne(o,U+"leave",Qe),A&&ne(o,U+"move",Ke)),Se.isEnabled=!0,Se.isDragging=Se.isGesturing=Se.isPressed=be=ye=!1,Se._vx.reset(),Se._vy.reset(),Ae=Oe(),Pe=Re(),e&&e.type&&He(e),X&&X(Se)),Se},Se.disable=function(){Se.isEnabled&&(Z.filter(function(e){return e!==Se&&re(e.target)}).length||oe(ke?Ie:o,"scroll",se),Se.isPressed&&(Se._vx.reset(),Se._vy.reset(),oe(C?o:Ie,q[1],Ue,!0)),oe(ke?Ie:o,"scroll",Ge,$),oe(o,"wheel",Ve,$),oe(o,q[0],He,$),oe(Ie,q[2],Xe),oe(Ie,q[3],Xe),oe(o,"click",Ne,!0),oe(o,"click",$e),oe(Ie,"gesturestart",We),oe(Ie,"gestureend",qe),oe(o,U+"enter",Ze),oe(o,U+"leave",Qe),oe(o,U+"move",Ke),Se.isEnabled=Se.isPressed=Se.isDragging=!1,V&&V(Se))},Se.kill=Se.revert=function(){Se.disable();var e=Z.indexOf(Se);e>=0&&Z.splice(e,1),W===Se&&(W=0)},Z.push(Se),C&&re(o)&&(W=Se),Se.enable(d)},L(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();ye.version="3.13.0",ye.create=function(e){return new ye(e)},ye.register=ve,ye.getAll=function(){return Z.slice()},ye.getById=function(e){return Z.filter(function(t){return t.vars.id===e})[0]},V()&&D.registerPlugin(ye);
/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
var be,xe,we,_e,Se,Te,Ee,Me,Oe,Re,Ae,Pe,Ce,ke,Ie,Le,De,ze,Ne,Fe,je,Be,Ye,Ue,He,Xe,We,qe,Ge,Ve,Ke,Ze,Qe,$e,Je,et,tt,rt,nt=1,ot=Date.now,it=ot(),at=0,st=0,lt=function(e,t,r){var n=_t(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=n,n?e.substr(6,e.length-7):e},ct=function(e,t){return!t||_t(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},ut=function e(){return st&&requestAnimationFrame(e)},ft=function(){return ke=1},dt=function(){return ke=0},pt=function(e){return e},ht=function(e){return Math.round(1e5*e)/1e5||0},gt=function(){return"undefined"!=typeof window},mt=function(){return be||gt()&&(be=window.gsap)&&be.registerPlugin&&be},vt=function(e){return!!~Ee.indexOf(e)},yt=function(e){return("Height"===e?Ke:we["inner"+e])||Se["client"+e]||Te["client"+e]},bt=function(e){return te(e,"getBoundingClientRect")||(vt(e)?function(){return kr.width=we.innerWidth,kr.height=Ke,kr}:function(){return Wt(e)})},xt=function(e,t){var r=t.s,n=t.d2,o=t.d,i=t.a;return Math.max(0,(r="scroll"+n)&&(i=te(e,r))?i()-bt(e)()[o]:vt(e)?(Se[r]||Te[r])-yt(n):e[r]-e["offset"+n])},wt=function(e,t){for(var r=0;r<Ne.length;r+=3)(!t||~t.indexOf(Ne[r+1]))&&e(Ne[r],Ne[r+1],Ne[r+2])},_t=function(e){return"string"==typeof e},St=function(e){return"function"==typeof e},Tt=function(e){return"number"==typeof e},Et=function(e){return"object"==typeof e},Mt=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},Ot=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Rt=Math.abs,At="left",Pt="right",Ct="bottom",kt="width",It="height",Lt="Right",Dt="Left",zt="Top",Nt="Bottom",Ft="padding",jt="margin",Bt="Width",Yt="Height",Ut="px",Ht=function(e){return we.getComputedStyle(e)},Xt=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Wt=function(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Ht(e)[Ie]&&be.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return r&&r.progress(0).kill(),n},qt=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},Gt=function(e){var t,r=[],n=e.labels,o=e.duration();for(t in n)r.push(n[t]/o);return r},Vt=function(e){var t=be.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return r?function(e,n,o){var i;if(void 0===o&&(o=.001),!n)return t(e);if(n>0){for(e-=o,i=0;i<r.length;i++)if(r[i]>=e)return r[i];return r[i-1]}for(i=r.length,e+=o;i--;)if(r[i]<=e)return r[i];return r[0]}:function(r,n,o){void 0===o&&(o=.001);var i=t(r);return!n||Math.abs(i-r)<o||i-r<0==n<0?i:t(n<0?r-e:r+e)}},Kt=function(e,t,r,n){return r.split(",").forEach(function(r){return e(t,r,n)})},Zt=function(e,t,r,n,o){return e.addEventListener(t,r,{passive:!n,capture:!!o})},Qt=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},$t=function(e,t,r){(r=r&&r.wheelHandler)&&(e(t,"wheel",r),e(t,"touchmove",r))},Jt={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},er={toggleActions:"play",anticipatePin:0},tr={top:0,left:0,center:.5,bottom:1,right:1},rr=function(e,t){if(_t(e)){var r=e.indexOf("="),n=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in tr?tr[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},nr=function(e,t,r,n,o,i,a,s){var l=o.startColor,c=o.endColor,u=o.fontSize,f=o.indent,d=o.fontWeight,p=_e.createElement("div"),h=vt(r)||"fixed"===te(r,"pinType"),g=-1!==e.indexOf("scroller"),m=h?Te:r,v=-1!==e.indexOf("start"),y=v?l:c,b="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((g||s)&&h?"fixed;":"absolute;"),(g||s||!h)&&(b+=(n===ue?Pt:Ct)+":"+(i+parseFloat(f))+"px;"),a&&(b+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=b,p.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(p,m.children[0]):m.appendChild(p),p._offset=p["offset"+n.op.d2],or(p,0,n,v),p},or=function(e,t,r,n){var o={display:"block"},i=r[n?"os2":"p2"],a=r[n?"p2":"os2"];e._isFlipped=n,o[r.a+"Percent"]=n?-100:0,o[r.a]=n?"1px":0,o["border"+i+Bt]=1,o["border"+a+Bt]=0,o[r.p]=t+"px",be.set(e,o)},ir=[],ar={},sr=function(){return ot()-at>34&&(Je||(Je=requestAnimationFrame(Er)))},lr=function(){(!Ye||!Ye.isPressed||Ye.startX>Te.clientWidth)&&(Q.cache++,Ye?Je||(Je=requestAnimationFrame(Er)):Er(),at||hr("scrollStart"),at=ot())},cr=function(){Xe=we.innerWidth,He=we.innerHeight},ur=function(e){Q.cache++,(!0===e||!Ce&&!Be&&!_e.fullscreenElement&&!_e.webkitFullscreenElement&&(!Ue||Xe!==we.innerWidth||Math.abs(we.innerHeight-He)>.25*we.innerHeight))&&Me.restart(!0)},fr={},dr=[],pr=function e(){return Qt(jr,"scrollEnd",e)||_r(!0)},hr=function(e){return fr[e]&&fr[e].map(function(e){return e()})||dr},gr=[],mr=function(e){for(var t=0;t<gr.length;t+=5)(!e||gr[t+4]&&gr[t+4].query===e)&&(gr[t].style.cssText=gr[t+1],gr[t].getBBox&&gr[t].setAttribute("transform",gr[t+2]||""),gr[t+3].uncache=1)},vr=function(e,t){var r;for(Le=0;Le<ir.length;Le++)!(r=ir[Le])||t&&r._ctx!==t||(e?r.kill(1):r.revert(!0,!0));Ze=!0,t&&mr(t),t||hr("revert")},yr=function(e,t){Q.cache++,(t||!et)&&Q.forEach(function(e){return St(e)&&e.cacheID++&&(e.rec=0)}),_t(e)&&(we.history.scrollRestoration=Ge=e)},br=0,xr=function(){Te.appendChild(Ve),Ke=!Ye&&Ve.offsetHeight||we.innerHeight,Te.removeChild(Ve)},wr=function(e){return Oe(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},_r=function(e,t){if(Se=_e.documentElement,Te=_e.body,Ee=[we,_e,Se,Te],!at||e||Ze){xr(),et=jr.isRefreshing=!0,Q.forEach(function(e){return St(e)&&++e.cacheID&&(e.rec=e())});var r=hr("refreshInit");Fe&&jr.sort(),t||vr(),Q.forEach(function(e){St(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),ir.slice(0).forEach(function(e){return e.refresh()}),Ze=!1,ir.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",r=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-r),e.refresh()}}),Qe=1,wr(!0),ir.forEach(function(e){var t=xt(e.scroller,e._dir),r="max"===e.vars.end||e._endClamp&&e.end>t,n=e._startClamp&&e.start>=t;(r||n)&&e.setPositions(n?t-1:e.start,r?Math.max(n?t:e.start+1,t):e.end,!0)}),wr(!1),Qe=0,r.forEach(function(e){return e&&e.render&&e.render(-1)}),Q.forEach(function(e){St(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),yr(Ge,1),Me.pause(),br++,et=2,Er(2),ir.forEach(function(e){return St(e.vars.onRefresh)&&e.vars.onRefresh(e)}),et=jr.isRefreshing=!1,hr("refresh")}else Zt(jr,"scrollEnd",pr)},Sr=0,Tr=1,Er=function(e){if(2===e||!et&&!Ze){jr.isUpdating=!0,rt&&rt.update(0);var t=ir.length,r=ot(),n=r-it>=50,o=t&&ir[0].scroll();if(Tr=Sr>o?-1:1,et||(Sr=o),n&&(at&&!ke&&r-at>200&&(at=0,hr("scrollEnd")),Ae=it,it=r),Tr<0){for(Le=t;Le-- >0;)ir[Le]&&ir[Le].update(0,n);Tr=1}else for(Le=0;Le<t;Le++)ir[Le]&&ir[Le].update(0,n);jr.isUpdating=!1}Je=0},Mr=[At,"top",Ct,Pt,jt+Nt,jt+Lt,jt+zt,jt+Dt,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Or=Mr.concat([kt,It,"boxSizing","max"+Bt,"max"+Yt,"position",jt,Ft,Ft+zt,Ft+Lt,Ft+Nt,Ft+Dt]),Rr=function(e,t,r,n){if(!e._gsap.swappedIn){for(var o,i=Mr.length,a=t.style,s=e.style;i--;)a[o=Mr[i]]=r[o];a.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(a.display="inline-block"),s[Ct]=s[Pt]="auto",a.flexBasis=r.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[kt]=qt(e,ce)+Ut,a[It]=qt(e,ue)+Ut,a[Ft]=s[jt]=s.top=s[At]="0",Pr(n),s[kt]=s["max"+Bt]=r[kt],s[It]=s["max"+Yt]=r[It],s[Ft]=r[Ft],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Ar=/([A-Z])/g,Pr=function(e){if(e){var t,r,n=e.t.style,o=e.length,i=0;for((e.t._gsap||be.core.getCache(e.t)).uncache=1;i<o;i+=2)r=e[i+1],t=e[i],r?n[t]=r:n[t]&&n.removeProperty(t.replace(Ar,"-$1").toLowerCase())}},Cr=function(e){for(var t=Or.length,r=e.style,n=[],o=0;o<t;o++)n.push(Or[o],r[Or[o]]);return n.t=e,n},kr={left:0,top:0},Ir=function(e,t,r,n,o,i,a,s,l,c,u,f,d,p){St(e)&&(e=e(s)),_t(e)&&"max"===e.substr(0,3)&&(e=f+("="===e.charAt(4)?rr("0"+e.substr(3),r):0));var h,g,m,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),Tt(e))d&&(e=be.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,f,e)),a&&or(a,r,n,!0);else{St(t)&&(t=t(s));var y,b,x,w,_=(e||"0").split(" ");m=fe(t,s)||Te,(y=Wt(m)||{})&&(y.left||y.top)||"none"!==Ht(m).display||(w=m.style.display,m.style.display="block",y=Wt(m),w?m.style.display=w:m.style.removeProperty("display")),b=rr(_[0],y[n.d]),x=rr(_[1]||"0",r),e=y[n.p]-l[n.p]-c+b+o-x,a&&or(a,x,n,r-x<20||a._isStart&&x>20),r-=r-x}if(p&&(s[p]=e||-.001,e<0&&(e=0)),i){var S=e+r,T=i._isStart;h="scroll"+n.d2,or(i,S,n,T&&S>20||!T&&(u?Math.max(Te[h],Se[h]):i.parentNode[h])<=S+1),u&&(l=Wt(a),u&&(i.style[n.op.p]=l[n.op.p]-n.op.m-i._offset+Ut))}return d&&m&&(h=Wt(m),d.seek(f),g=Wt(m),d._caScrollDist=h[n.p]-g[n.p],e=e/d._caScrollDist*f),d&&d.seek(v),d?e:Math.round(e)},Lr=/(webkit|moz|length|cssText|inset)/i,Dr=function(e,t,r,n){if(e.parentNode!==t){var o,i,a=e.style;if(t===Te){for(o in e._stOrig=a.cssText,i=Ht(e))+o||Lr.test(o)||!i[o]||"string"!=typeof a[o]||"0"===o||(a[o]=i[o]);a.top=r,a.left=n}else a.cssText=e._stOrig;be.core.getCache(e).uncache=1,t.appendChild(e)}},zr=function(e,t,r){var n=t,o=n;return function(t){var i=Math.round(e());return i!==n&&i!==o&&Math.abs(i-n)>3&&Math.abs(i-o)>3&&(t=i,r&&r()),o=n,n=Math.round(t)}},Nr=function(e,t,r){var n={};n[t.p]="+="+r,be.set(e,n)},Fr=function(e,t){var r=de(e,t),n="_scroll"+t.p2,o=function t(o,i,a,s,l){var c=t.tween,u=i.onComplete,f={};a=a||r();var d=zr(r,a,function(){c.kill(),t.tween=0});return l=s&&l||0,s=s||o-a,c&&c.kill(),i[n]=o,i.inherit=!1,i.modifiers=f,f[n]=function(){return d(a+s*c.ratio+l*c.ratio*c.ratio)},i.onUpdate=function(){Q.cache++,t.tween&&Er()},i.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=be.to(e,i)};return e[n]=r,r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Zt(e,"wheel",r.wheelHandler),jr.isTouch&&Zt(e,"touchmove",r.wheelHandler),o},jr=function(){function e(t,r){xe||e.register(be),qe(this),this.init(t,r)}return e.prototype.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),st){var n,o,i,a,s,l,c,u,f,d,p,h,g,m,v,y,b,x,w,_,S,T,E,M,O,R,A,P,C,k,I,L,D,z,N,F,j,B,Y,U,H,X,W=t=Xt(_t(t)||Tt(t)||t.nodeType?{trigger:t}:t,er),q=W.onUpdate,G=W.toggleClass,V=W.id,K=W.onToggle,Z=W.onRefresh,J=W.scrub,ee=W.trigger,re=W.pin,ne=W.pinSpacing,oe=W.invalidateOnRefresh,ie=W.anticipatePin,ae=W.onScrubComplete,se=W.onSnapComplete,le=W.once,pe=W.snap,he=W.pinReparent,ge=W.pinSpacer,me=W.containerAnimation,ve=W.fastScrollEnd,ye=W.preventOverlaps,xe=t.horizontal||t.containerAnimation&&!1!==t.horizontal?ce:ue,Ee=!J&&0!==J,Me=fe(t.scroller||we),Pe=be.core.getCache(Me),Ie=vt(Me),De="fixed"===("pinType"in t?t.pinType:te(Me,"pinType")||Ie&&"fixed"),ze=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],Ne=Ee&&t.toggleActions.split(" "),Be="markers"in t?t.markers:er.markers,Ye=Ie?0:parseFloat(Ht(Me)["border"+xe.p2+Bt])||0,Ue=this,He=t.onRefreshInit&&function(){return t.onRefreshInit(Ue)},Xe=function(e,t,r){var n=r.d,o=r.d2,i=r.a;return(i=te(e,"getBoundingClientRect"))?function(){return i()[n]}:function(){return(t?yt(o):e["client"+o])||0}}(Me,Ie,xe),We=function(e,t){return!t||~$.indexOf(e)?bt(e):function(){return kr}}(Me,Ie),qe=0,Ge=0,Ve=0,Ke=de(Me,xe);if(Ue._startClamp=Ue._endClamp=!1,Ue._dir=xe,ie*=45,Ue.scroller=Me,Ue.scroll=me?me.time.bind(me):Ke,a=Ke(),Ue.vars=t,r=r||t.animation,"refreshPriority"in t&&(Fe=1,-9999===t.refreshPriority&&(rt=Ue)),Pe.tweenScroll=Pe.tweenScroll||{top:Fr(Me,ue),left:Fr(Me,ce)},Ue.tweenTo=n=Pe.tweenScroll[xe.p],Ue.scrubDuration=function(e){(D=Tt(e)&&e)?L?L.duration(e):L=be.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:D,paused:!0,onComplete:function(){return ae&&ae(Ue)}}):(L&&L.progress(1).kill(),L=0)},r&&(r.vars.lazy=!1,r._initted&&!Ue.isReverted||!1!==r.vars.immediateRender&&!1!==t.immediateRender&&r.duration()&&r.render(0,!0,!0),Ue.animation=r.pause(),r.scrollTrigger=Ue,Ue.scrubDuration(J),k=0,V||(V=r.vars.id)),pe&&(Et(pe)&&!pe.push||(pe={snapTo:pe}),"scrollBehavior"in Te.style&&be.set(Ie?[Te,Se]:Me,{scrollBehavior:"auto"}),Q.forEach(function(e){return St(e)&&e.target===(Ie?_e.scrollingElement||Se:Me)&&(e.smooth=!1)}),i=St(pe.snapTo)?pe.snapTo:"labels"===pe.snapTo?function(e){return function(t){return be.utils.snap(Gt(e),t)}}(r):"labelsDirectional"===pe.snapTo?(U=r,function(e,t){return Vt(Gt(U))(e,t.direction)}):!1!==pe.directional?function(e,t){return Vt(pe.snapTo)(e,ot()-Ge<500?0:t.direction)}:be.utils.snap(pe.snapTo),z=pe.duration||{min:.1,max:2},z=Et(z)?Re(z.min,z.max):Re(z,z),N=be.delayedCall(pe.delay||D/2||.1,function(){var e=Ke(),t=ot()-Ge<500,o=n.tween;if(!(t||Math.abs(Ue.getVelocity())<10)||o||ke||qe===e)Ue.isActive&&qe!==e&&N.restart(!0);else{var a,s,u=(e-l)/m,f=r&&!Ee?r.totalProgress():u,d=t?0:(f-I)/(ot()-Ae)*1e3||0,p=be.utils.clamp(-u,1-u,Rt(d/2)*d/.185),h=u+(!1===pe.inertia?0:p),g=pe,v=g.onStart,y=g.onInterrupt,b=g.onComplete;if(a=i(h,Ue),Tt(a)||(a=h),s=Math.max(0,Math.round(l+a*m)),e<=c&&e>=l&&s!==e){if(o&&!o._initted&&o.data<=Rt(s-e))return;!1===pe.inertia&&(p=a-u),n(s,{duration:z(Rt(.185*Math.max(Rt(h-f),Rt(a-f))/d/.05||0)),ease:pe.ease||"power3",data:Rt(s-e),onInterrupt:function(){return N.restart(!0)&&y&&y(Ue)},onComplete:function(){Ue.update(),qe=Ke(),r&&!Ee&&(L?L.resetTo("totalProgress",a,r._tTime/r._tDur):r.progress(a)),k=I=r&&!Ee?r.totalProgress():Ue.progress,se&&se(Ue),b&&b(Ue)}},e,p*m,s-e-p*m),v&&v(Ue,n.tween)}}}).pause()),V&&(ar[V]=Ue),(Y=(ee=Ue.trigger=fe(ee||!0!==re&&re))&&ee._gsap&&ee._gsap.stRevert)&&(Y=Y(Ue)),re=!0===re?ee:fe(re),_t(G)&&(G={targets:ee,className:G}),re&&(!1===ne||ne===jt||(ne=!(!ne&&re.parentNode&&re.parentNode.style&&"flex"===Ht(re.parentNode).display)&&Ft),Ue.pin=re,(o=be.core.getCache(re)).spacer?v=o.pinState:(ge&&((ge=fe(ge))&&!ge.nodeType&&(ge=ge.current||ge.nativeElement),o.spacerIsNative=!!ge,ge&&(o.spacerState=Cr(ge))),o.spacer=x=ge||_e.createElement("div"),x.classList.add("pin-spacer"),V&&x.classList.add("pin-spacer-"+V),o.pinState=v=Cr(re)),!1!==t.force3D&&be.set(re,{force3D:!0}),Ue.spacer=x=o.spacer,C=Ht(re),M=C[ne+xe.os2],_=be.getProperty(re),S=be.quickSetter(re,xe.a,Ut),Rr(re,x,C),b=Cr(re)),Be){h=Et(Be)?Xt(Be,Jt):Jt,d=nr("scroller-start",V,Me,xe,h,0),p=nr("scroller-end",V,Me,xe,h,0,d),w=d["offset"+xe.op.d2];var Ze=fe(te(Me,"content")||Me);u=this.markerStart=nr("start",V,Ze,xe,h,w,0,me),f=this.markerEnd=nr("end",V,Ze,xe,h,w,0,me),me&&(B=be.quickSetter([u,f],xe.a,Ut)),De||$.length&&!0===te(Me,"fixedMarkers")||(X=Ht(H=Ie?Te:Me).position,H.style.position="absolute"===X||"fixed"===X?X:"relative",be.set([d,p],{force3D:!0}),R=be.quickSetter(d,xe.a,Ut),P=be.quickSetter(p,xe.a,Ut))}if(me){var Je=me.vars.onUpdate,it=me.vars.onUpdateParams;me.eventCallback("onUpdate",function(){Ue.update(0,0,1),Je&&Je.apply(me,it||[])})}if(Ue.previous=function(){return ir[ir.indexOf(Ue)-1]},Ue.next=function(){return ir[ir.indexOf(Ue)+1]},Ue.revert=function(e,t){if(!t)return Ue.kill(!0);var n=!1!==e||!Ue.enabled,o=Ce;n!==Ue.isReverted&&(n&&(F=Math.max(Ke(),Ue.scroll.rec||0),Ve=Ue.progress,j=r&&r.progress()),u&&[u,f,d,p].forEach(function(e){return e.style.display=n?"none":"block"}),n&&(Ce=Ue,Ue.update(n)),!re||he&&Ue.isActive||(n?function(e,t,r){Pr(r);var n=e._gsap;if(n.spacerIsNative)Pr(n.spacerState);else if(e._gsap.swappedIn){var o=t.parentNode;o&&(o.insertBefore(e,t),o.removeChild(t))}e._gsap.swappedIn=!1}(re,x,v):Rr(re,x,Ht(re),O)),n||Ue.update(n),Ce=o,Ue.isReverted=n)},Ue.refresh=function(o,i,h,w){if(!Ce&&Ue.enabled||i)if(re&&o&&at)Zt(e,"scrollEnd",pr);else{!et&&He&&He(Ue),Ce=Ue,n.tween&&!h&&(n.tween.kill(),n.tween=0),L&&L.pause(),oe&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)})),Ue.isReverted||Ue.revert(!0,!0),Ue._subPinOffset=!1;var S,M,R,P,C,k,I,D,z,B,Y,U,H,X=Xe(),W=We(),q=me?me.duration():xt(Me,xe),G=m<=.01||!m,V=0,K=w||0,Q=Et(h)?h.end:t.end,$=t.endTrigger||ee,J=Et(h)?h.start:t.start||(0!==t.start&&ee?re?"0 0":"0 100%":0),te=Ue.pinnedContainer=t.pinnedContainer&&fe(t.pinnedContainer,Ue),ie=ee&&Math.max(0,ir.indexOf(Ue))||0,ae=ie;for(Be&&Et(h)&&(U=be.getProperty(d,xe.p),H=be.getProperty(p,xe.p));ae-- >0;)(k=ir[ae]).end||k.refresh(0,1)||(Ce=Ue),!(I=k.pin)||I!==ee&&I!==re&&I!==te||k.isReverted||(B||(B=[]),B.unshift(k),k.revert(!0,!0)),k!==ir[ae]&&(ie--,ae--);for(St(J)&&(J=J(Ue)),J=lt(J,"start",Ue),l=Ir(J,ee,X,xe,Ke(),u,d,Ue,W,Ye,De,q,me,Ue._startClamp&&"_startClamp")||(re?-.001:0),St(Q)&&(Q=Q(Ue)),_t(Q)&&!Q.indexOf("+=")&&(~Q.indexOf(" ")?Q=(_t(J)?J.split(" ")[0]:"")+Q:(V=rr(Q.substr(2),X),Q=_t(J)?J:(me?be.utils.mapRange(0,me.duration(),me.scrollTrigger.start,me.scrollTrigger.end,l):l)+V,$=ee)),Q=lt(Q,"end",Ue),c=Math.max(l,Ir(Q||($?"100% 0":q),$,X,xe,Ke()+V,f,p,Ue,W,Ye,De,q,me,Ue._endClamp&&"_endClamp"))||-.001,V=0,ae=ie;ae--;)(I=(k=ir[ae]).pin)&&k.start-k._pinPush<=l&&!me&&k.end>0&&(S=k.end-(Ue._startClamp?Math.max(0,k.start):k.start),(I===ee&&k.start-k._pinPush<l||I===te)&&isNaN(J)&&(V+=S*(1-k.progress)),I===re&&(K+=S));if(l+=V,c+=V,Ue._startClamp&&(Ue._startClamp+=V),Ue._endClamp&&!et&&(Ue._endClamp=c||-.001,c=Math.min(c,xt(Me,xe))),m=c-l||(l-=.01)&&.001,G&&(Ve=be.utils.clamp(0,1,be.utils.normalize(l,c,F))),Ue._pinPush=K,u&&V&&((S={})[xe.a]="+="+V,te&&(S[xe.p]="-="+Ke()),be.set([u,f],S)),!re||Qe&&Ue.end>=xt(Me,xe)){if(ee&&Ke()&&!me)for(M=ee.parentNode;M&&M!==Te;)M._pinOffset&&(l-=M._pinOffset,c-=M._pinOffset),M=M.parentNode}else S=Ht(re),P=xe===ue,R=Ke(),T=parseFloat(_(xe.a))+K,!q&&c>1&&(Y={style:Y=(Ie?_e.scrollingElement||Se:Me).style,value:Y["overflow"+xe.a.toUpperCase()]},Ie&&"scroll"!==Ht(Te)["overflow"+xe.a.toUpperCase()]&&(Y.style["overflow"+xe.a.toUpperCase()]="scroll")),Rr(re,x,S),b=Cr(re),M=Wt(re,!0),D=De&&de(Me,P?ce:ue)(),ne?((O=[ne+xe.os2,m+K+Ut]).t=x,(ae=ne===Ft?qt(re,xe)+m+K:0)&&(O.push(xe.d,ae+Ut),"auto"!==x.style.flexBasis&&(x.style.flexBasis=ae+Ut)),Pr(O),te&&ir.forEach(function(e){e.pin===te&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),De&&Ke(F)):(ae=qt(re,xe))&&"auto"!==x.style.flexBasis&&(x.style.flexBasis=ae+Ut),De&&((C={top:M.top+(P?R-l:D)+Ut,left:M.left+(P?D:R-l)+Ut,boxSizing:"border-box",position:"fixed"})[kt]=C["max"+Bt]=Math.ceil(M.width)+Ut,C[It]=C["max"+Yt]=Math.ceil(M.height)+Ut,C[jt]=C[jt+zt]=C[jt+Lt]=C[jt+Nt]=C[jt+Dt]="0",C[Ft]=S[Ft],C[Ft+zt]=S[Ft+zt],C[Ft+Lt]=S[Ft+Lt],C[Ft+Nt]=S[Ft+Nt],C[Ft+Dt]=S[Ft+Dt],y=function(e,t,r){for(var n,o=[],i=e.length,a=r?8:0;a<i;a+=2)n=e[a],o.push(n,n in t?t[n]:e[a+1]);return o.t=e.t,o}(v,C,he),et&&Ke(0)),r?(z=r._initted,je(1),r.render(r.duration(),!0,!0),E=_(xe.a)-T+m+K,A=Math.abs(m-E)>1,De&&A&&y.splice(y.length-2,2),r.render(0,!0,!0),z||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),je(0)):E=m,Y&&(Y.value?Y.style["overflow"+xe.a.toUpperCase()]=Y.value:Y.style.removeProperty("overflow-"+xe.a));B&&B.forEach(function(e){return e.revert(!1,!0)}),Ue.start=l,Ue.end=c,a=s=et?F:Ke(),me||et||(a<F&&Ke(F),Ue.scroll.rec=0),Ue.revert(!1,!0),Ge=ot(),N&&(qe=-1,N.restart(!0)),Ce=0,r&&Ee&&(r._initted||j)&&r.progress()!==j&&r.progress(j||0,!0).render(r.time(),!0,!0),(G||Ve!==Ue.progress||me||oe||r&&!r._initted)&&(r&&!Ee&&(r._initted||Ve||!1!==r.vars.immediateRender)&&r.totalProgress(me&&l<-.001&&!Ve?be.utils.normalize(l,c,0):Ve,!0),Ue.progress=G||(a-l)/m===Ve?0:Ve),re&&ne&&(x._pinOffset=Math.round(Ue.progress*E)),L&&L.invalidate(),isNaN(U)||(U-=be.getProperty(d,xe.p),H-=be.getProperty(p,xe.p),Nr(d,xe,U),Nr(u,xe,U-(w||0)),Nr(p,xe,H),Nr(f,xe,H-(w||0))),G&&!et&&Ue.update(),!Z||et||g||(g=!0,Z(Ue),g=!1)}},Ue.getVelocity=function(){return(Ke()-s)/(ot()-Ae)*1e3||0},Ue.endAnimation=function(){Mt(Ue.callbackAnimation),r&&(L?L.progress(1):r.paused()?Ee||Mt(r,Ue.direction<0,1):Mt(r,r.reversed()))},Ue.labelToScroll=function(e){return r&&r.labels&&(l||Ue.refresh()||l)+r.labels[e]/r.duration()*m||0},Ue.getTrailing=function(e){var t=ir.indexOf(Ue),r=Ue.direction>0?ir.slice(0,t).reverse():ir.slice(t+1);return(_t(e)?r.filter(function(t){return t.vars.preventOverlaps===e}):r).filter(function(e){return Ue.direction>0?e.end<=l:e.start>=c})},Ue.update=function(e,t,o){if(!me||o||e){var i,u,f,p,h,g,v,w=!0===et?F:Ue.scroll(),_=e?0:(w-l)/m,O=_<0?0:_>1?1:_||0,C=Ue.progress;if(t&&(s=a,a=me?Ke():w,pe&&(I=k,k=r&&!Ee?r.totalProgress():O)),ie&&re&&!Ce&&!nt&&at&&(!O&&l<w+(w-s)/(ot()-Ae)*ie?O=1e-4:1===O&&c>w+(w-s)/(ot()-Ae)*ie&&(O=.9999)),O!==C&&Ue.enabled){if(p=(h=(i=Ue.isActive=!!O&&O<1)!==(!!C&&C<1))||!!O!=!!C,Ue.direction=O>C?1:-1,Ue.progress=O,p&&!Ce&&(u=O&&!C?0:1===O?1:1===C?2:3,Ee&&(f=!h&&"none"!==Ne[u+1]&&Ne[u+1]||Ne[u],v=r&&("complete"===f||"reset"===f||f in r))),ye&&(h||v)&&(v||J||!r)&&(St(ye)?ye(Ue):Ue.getTrailing(ye).forEach(function(e){return e.endAnimation()})),Ee||(!L||Ce||nt?r&&r.totalProgress(O,!(!Ce||!Ge&&!e)):(L._dp._time-L._start!==L._time&&L.render(L._dp._time-L._start),L.resetTo?L.resetTo("totalProgress",O,r._tTime/r._tDur):(L.vars.totalProgress=O,L.invalidate().restart()))),re)if(e&&ne&&(x.style[ne+xe.os2]=M),De){if(p){if(g=!e&&O>C&&c+1>w&&w+1>=xt(Me,xe),he)if(e||!i&&!g)Dr(re,x);else{var D=Wt(re,!0),z=w-l;Dr(re,Te,D.top+(xe===ue?z:0)+Ut,D.left+(xe===ue?0:z)+Ut)}Pr(i||g?y:b),A&&O<1&&i||S(T+(1!==O||g?0:E))}}else S(ht(T+E*O));pe&&!n.tween&&!Ce&&!nt&&N.restart(!0),G&&(h||le&&O&&(O<1||!$e))&&Oe(G.targets).forEach(function(e){return e.classList[i||le?"add":"remove"](G.className)}),q&&!Ee&&!e&&q(Ue),p&&!Ce?(Ee&&(v&&("complete"===f?r.pause().totalProgress(1):"reset"===f?r.restart(!0).pause():"restart"===f?r.restart(!0):r[f]()),q&&q(Ue)),!h&&$e||(K&&h&&Ot(Ue,K),ze[u]&&Ot(Ue,ze[u]),le&&(1===O?Ue.kill(!1,1):ze[u]=0),h||ze[u=1===O?1:3]&&Ot(Ue,ze[u])),ve&&!i&&Math.abs(Ue.getVelocity())>(Tt(ve)?ve:2500)&&(Mt(Ue.callbackAnimation),L?L.progress(1):Mt(r,"reverse"===f?1:!O,1))):Ee&&q&&!Ce&&q(Ue)}if(P){var j=me?w/me.duration()*(me._caScrollDist||0):w;R(j+(d._isFlipped?1:0)),P(j)}B&&B(-w/me.duration()*(me._caScrollDist||0))}},Ue.enable=function(t,r){Ue.enabled||(Ue.enabled=!0,Zt(Me,"resize",ur),Ie||Zt(Me,"scroll",lr),He&&Zt(e,"refreshInit",He),!1!==t&&(Ue.progress=Ve=0,a=s=qe=Ke()),!1!==r&&Ue.refresh())},Ue.getTween=function(e){return e&&n?n.tween:L},Ue.setPositions=function(e,t,r,n){if(me){var o=me.scrollTrigger,i=me.duration(),a=o.end-o.start;e=o.start+a*e/i,t=o.start+a*t/i}Ue.refresh(!1,!1,{start:ct(e,r&&!!Ue._startClamp),end:ct(t,r&&!!Ue._endClamp)},n),Ue.update()},Ue.adjustPinSpacing=function(e){if(O&&e){var t=O.indexOf(xe.d)+1;O[t]=parseFloat(O[t])+e+Ut,O[1]=parseFloat(O[1])+e+Ut,Pr(O)}},Ue.disable=function(t,r){if(Ue.enabled&&(!1!==t&&Ue.revert(!0,!0),Ue.enabled=Ue.isActive=!1,r||L&&L.pause(),F=0,o&&(o.uncache=1),He&&Qt(e,"refreshInit",He),N&&(N.pause(),n.tween&&n.tween.kill()&&(n.tween=0)),!Ie)){for(var i=ir.length;i--;)if(ir[i].scroller===Me&&ir[i]!==Ue)return;Qt(Me,"resize",ur),Ie||Qt(Me,"scroll",lr)}},Ue.kill=function(e,n){Ue.disable(e,n),L&&!n&&L.kill(),V&&delete ar[V];var i=ir.indexOf(Ue);i>=0&&ir.splice(i,1),i===Le&&Tr>0&&Le--,i=0,ir.forEach(function(e){return e.scroller===Ue.scroller&&(i=1)}),i||et||(Ue.scroll.rec=0),r&&(r.scrollTrigger=null,e&&r.revert({kill:!1}),n||r.kill()),u&&[u,f,d,p].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),rt===Ue&&(rt=0),re&&(o&&(o.uncache=1),i=0,ir.forEach(function(e){return e.pin===re&&i++}),i||(o.spacer=0)),t.onKill&&t.onKill(Ue)},ir.push(Ue),Ue.enable(!1,!1),Y&&Y(Ue),r&&r.add&&!m){var ut=Ue.update;Ue.update=function(){Ue.update=ut,Q.cache++,l||c||Ue.refresh()},be.delayedCall(.01,Ue.update),m=.01,l=c=0}else Ue.refresh();re&&function(){if(tt!==br){var e=tt=br;requestAnimationFrame(function(){return e===br&&_r(!0)})}}()}else this.update=this.refresh=this.kill=pt},e.register=function(t){return xe||(be=t||mt(),gt()&&window.document&&e.enable(),xe=st),xe},e.defaults=function(e){if(e)for(var t in e)er[t]=e[t];return er},e.disable=function(e,t){st=0,ir.forEach(function(r){return r[t?"kill":"disable"](e)}),Qt(we,"wheel",lr),Qt(_e,"scroll",lr),clearInterval(Pe),Qt(_e,"touchcancel",pt),Qt(Te,"touchstart",pt),Kt(Qt,_e,"pointerdown,touchstart,mousedown",ft),Kt(Qt,_e,"pointerup,touchend,mouseup",dt),Me.kill(),wt(Qt);for(var r=0;r<Q.length;r+=3)$t(Qt,Q[r],Q[r+1]),$t(Qt,Q[r],Q[r+2])},e.enable=function(){if(we=window,_e=document,Se=_e.documentElement,Te=_e.body,be&&(Oe=be.utils.toArray,Re=be.utils.clamp,qe=be.core.context||pt,je=be.core.suppressOverwrites||pt,Ge=we.history.scrollRestoration||"auto",Sr=we.pageYOffset||0,be.core.globals("ScrollTrigger",e),Te)){st=1,(Ve=document.createElement("div")).style.height="100vh",Ve.style.position="absolute",xr(),ut(),ye.register(be),e.isTouch=ye.isTouch,We=ye.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ue=1===ye.isTouch,Zt(we,"wheel",lr),Ee=[we,_e,Se,Te],be.matchMedia&&(e.matchMedia=function(e){var t,r=be.matchMedia();for(t in e)r.add(t,e[t]);return r},be.addEventListener("matchMediaInit",function(){return vr()}),be.addEventListener("matchMediaRevert",function(){return mr()}),be.addEventListener("matchMedia",function(){_r(0,1),hr("matchMedia")}),be.matchMedia().add("(orientation: portrait)",function(){return cr(),cr})),cr(),Zt(_e,"scroll",lr);var t,r,n=Te.hasAttribute("style"),o=Te.style,i=o.borderTopStyle,a=be.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",t=Wt(Te),ue.m=Math.round(t.top+ue.sc())||0,ce.m=Math.round(t.left+ce.sc())||0,i?o.borderTopStyle=i:o.removeProperty("border-top-style"),n||(Te.setAttribute("style",""),Te.removeAttribute("style")),Pe=setInterval(sr,250),be.delayedCall(.5,function(){return nt=0}),Zt(_e,"touchcancel",pt),Zt(Te,"touchstart",pt),Kt(Zt,_e,"pointerdown,touchstart,mousedown",ft),Kt(Zt,_e,"pointerup,touchend,mouseup",dt),Ie=be.utils.checkPrefix("transform"),Or.push(Ie),xe=ot(),Me=be.delayedCall(.2,_r).pause(),Ne=[_e,"visibilitychange",function(){var e=we.innerWidth,t=we.innerHeight;_e.hidden?(De=e,ze=t):De===e&&ze===t||ur()},_e,"DOMContentLoaded",_r,we,"load",_r,we,"resize",ur],wt(Zt),ir.forEach(function(e){return e.enable(0,1)}),r=0;r<Q.length;r+=3)$t(Qt,Q[r],Q[r+1]),$t(Qt,Q[r],Q[r+2])}},e.config=function(t){"limitCallbacks"in t&&($e=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(Pe)||(Pe=r)&&setInterval(sr,r),"ignoreMobileResize"in t&&(Ue=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(wt(Qt)||wt(Zt,t.autoRefreshEvents||"none"),Be=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var r=fe(e),n=Q.indexOf(r),o=vt(r);~n&&Q.splice(n,o?6:2),t&&(o?$.unshift(we,t,Te,t,Se,t):$.unshift(r,t))},e.clearMatchMedia=function(e){ir.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,r){var n=(_t(e)?fe(e):e).getBoundingClientRect(),o=n[r?kt:It]*t||0;return r?n.right-o>0&&n.left+o<we.innerWidth:n.bottom-o>0&&n.top+o<we.innerHeight},e.positionInViewport=function(e,t,r){_t(e)&&(e=fe(e));var n=e.getBoundingClientRect(),o=n[r?kt:It],i=null==t?o/2:t in tr?tr[t]*o:~t.indexOf("%")?parseFloat(t)*o/100:parseFloat(t)||0;return r?(n.left+i)/we.innerWidth:(n.top+i)/we.innerHeight},e.killAll=function(e){if(ir.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=fr.killAll||[];fr={},t.forEach(function(e){return e()})}},e}();jr.version="3.13.0",jr.saveStyles=function(e){return e?Oe(e).forEach(function(e){if(e&&e.style){var t=gr.indexOf(e);t>=0&&gr.splice(t,5),gr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),be.core.getCache(e),qe())}}):gr},jr.revert=function(e,t){return vr(!e,t)},jr.create=function(e,t){return new jr(e,t)},jr.refresh=function(e){return e?ur(!0):(xe||jr.register())&&_r(!0)},jr.update=function(e){return++Q.cache&&Er(!0===e?2:0)},jr.clearScrollMemory=yr,jr.maxScroll=function(e,t){return xt(e,t?ce:ue)},jr.getScrollFunc=function(e,t){return de(fe(e),t?ce:ue)},jr.getById=function(e){return ar[e]},jr.getAll=function(){return ir.filter(function(e){return"ScrollSmoother"!==e.vars.id})},jr.isScrolling=function(){return!!at},jr.snapDirectional=Vt,jr.addEventListener=function(e,t){var r=fr[e]||(fr[e]=[]);~r.indexOf(t)||r.push(t)},jr.removeEventListener=function(e,t){var r=fr[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)},jr.batch=function(e,t){var r,n=[],o={},i=t.interval||.016,a=t.batchMax||1e9,s=function(e,t){var r=[],n=[],o=be.delayedCall(i,function(){t(r,n),r=[],n=[]}).pause();return function(e){r.length||o.restart(!0),r.push(e.trigger),n.push(e),a<=r.length&&o.progress(1)}};for(r in t)o[r]="on"===r.substr(0,2)&&St(t[r])&&"onRefreshInit"!==r?s(0,t[r]):t[r];return St(a)&&(a=a(),Zt(jr,"refresh",function(){return a=t.batchMax()})),Oe(e).forEach(function(e){var t={};for(r in o)t[r]=o[r];t.trigger=e,n.push(jr.create(t))}),n};var Br,Yr=function(e,t,r,n){return t>n?e(n):t<0&&e(0),r>n?(n-t)/(r-t):r<0?t/(t-r):1},Ur=function e(t,r){!0===r?t.style.removeProperty("touch-action"):t.style.touchAction=!0===r?"auto":r?"pan-"+r+(ye.isTouch?" pinch-zoom":""):"none",t===Se&&e(Te,r)},Hr={auto:1,scroll:1},Xr=function(e){var t,r=e.event,n=e.target,o=e.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,a=i._gsap||be.core.getCache(i),s=ot();if(!a._isScrollT||s-a._isScrollT>2e3){for(;i&&i!==Te&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!Hr[(t=Ht(i)).overflowY]&&!Hr[t.overflowX]);)i=i.parentNode;a._isScroll=i&&i!==n&&!vt(i)&&(Hr[(t=Ht(i)).overflowY]||Hr[t.overflowX]),a._isScrollT=s}(a._isScroll||"x"===o)&&(r.stopPropagation(),r._gsapAllow=!0)},Wr=function(e,t,r,n){return ye.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:n=n&&Xr,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return r&&Zt(_e,ye.eventTypes[0],Gr,!1,!0)},onDisable:function(){return Qt(_e,ye.eventTypes[0],Gr,!0)}})},qr=/(input|label|select|textarea)/i,Gr=function(e){var t=qr.test(e.target.tagName);(t||Br)&&(e._gsapAllow=!0,Br=t)},Vr=function(e){Et(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,r,n,o,i,a,s,l,c=e,u=c.normalizeScrollX,f=c.momentum,d=c.allowNestedScroll,p=c.onRelease,h=fe(e.target)||Se,g=be.core.globals().ScrollSmoother,m=g&&g.get(),v=We&&(e.content&&fe(e.content)||m&&!1!==e.content&&!m.smooth()&&m.content()),y=de(h,ue),b=de(h,ce),x=1,w=(ye.isTouch&&we.visualViewport?we.visualViewport.scale*we.visualViewport.width:we.outerWidth)/we.innerWidth,_=0,S=St(f)?function(){return f(t)}:function(){return f||2.8},T=Wr(h,e.type,!0,d),E=function(){return o=!1},M=pt,O=pt,R=function(){r=xt(h,ue),O=Re(We?1:0,r),u&&(M=Re(0,xt(h,ce))),n=br},A=function(){v._gsap.y=ht(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},P=function(){R(),i.isActive()&&i.vars.scrollY>r&&(y()>r?i.progress(1)&&y(r):i.resetTo("scrollY",r))};return v&&be.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return We&&"touchmove"===e.type&&function(){if(o){requestAnimationFrame(E);var e=ht(t.deltaY/2),r=O(y.v-e);if(v&&r!==y.v+y.offset){y.offset=r-y.v;var n=ht((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+n+", 0, 1)",v._gsap.y=n+"px",y.cacheID=Q.cache,Er()}return!0}y.offset&&A(),o=!0}()||x>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){o=!1;var e=x;x=ht((we.visualViewport&&we.visualViewport.scale||1)/w),i.pause(),e!==x&&Ur(h,x>1.01||!u&&"x"),a=b(),s=y(),R(),n=br},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&A(),t){Q.cache++;var n,o,a=S();u&&(o=(n=b())+.05*a*-e.velocityX/.227,a*=Yr(b,n,o,xt(h,ce)),i.vars.scrollX=M(o)),o=(n=y())+.05*a*-e.velocityY/.227,a*=Yr(y,n,o,xt(h,ue)),i.vars.scrollY=O(o),i.invalidate().duration(a).play(.01),(We&&i.vars.scrollY>=r||n>=r-1)&&be.to({},{onUpdate:P,duration:a})}else l.restart(!0);p&&p(e)},e.onWheel=function(){i._ts&&i.pause(),ot()-_>1e3&&(n=0,_=ot())},e.onChange=function(e,t,r,o,i){if(br!==n&&R(),t&&u&&b(M(o[2]===t?a+(e.startX-e.x):b()+t-o[1])),r){y.offset&&A();var l=i[2]===r,c=l?s+e.startY-e.y:y()+r-i[1],f=O(c);l&&c!==f&&(s+=f-c),y(f)}(r||t)&&Er()},e.onEnable=function(){Ur(h,!u&&"x"),jr.addEventListener("refresh",P),Zt(we,"resize",P),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),T.enable()},e.onDisable=function(){Ur(h,!0),Qt(we,"resize",P),jr.removeEventListener("refresh",P),T.kill()},e.lockAxis=!1!==e.lockAxis,(t=new ye(e)).iOS=We,We&&!y()&&y(1),We&&be.ticker.add(pt),l=t._dc,i=be.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:zr(y,y(),function(){return i.pause()})},onUpdate:Er,onComplete:l.vars.onComplete}),t};jr.sort=function(e){if(St(e))return ir.sort(e);var t=we.pageYOffset||0;return jr.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+we.innerHeight}),ir.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},jr.observe=function(e){return new ye(e)},jr.normalizeScroll=function(e){if(void 0===e)return Ye;if(!0===e&&Ye)return Ye.enable();if(!1===e)return Ye&&Ye.kill(),void(Ye=e);var t=e instanceof ye?e:Vr(e);return Ye&&Ye.target===t.target&&Ye.kill(),vt(t.target)&&(Ye=t),t},jr.core={_getVelocityProp:pe,_inputObserver:Wr,_scrollers:Q,_proxies:$,bridge:{ss:function(){at||hr("scrollStart"),at=ot()},ref:function(){return Ce}}},mt()&&be.registerPlugin(jr);const Kr={desktop:{"first-move":{trigger:".first-move",roomAnimation:{scale:{x:.11,y:.11,z:.11},position:{x:"size.width * 0.0014"}}},"second-move":{trigger:".second-move",roomAnimation:{position:{x:1,z:"size.height * 0.0032"},scale:{x:.4,y:.4,z:.4}},rectLightAnimation:{width:"0.5 * 4",height:"0.7 * 4"}},"third-move":{trigger:".third-move",cameraAnimation:{position:{y:1.5,x:-4.1}}},"fourth-move":{trigger:".fourth-move",roomAnimation:{scale:{x:.11,y:.11,z:.11},position:{x:"size.width * -0.0014",y:-.1}},cameraAnimation:{position:{x:-.3,y:-.8,z:1}}}},mobile:{"first-move":{trigger:".first-move",roomAnimation:{scale:{x:.1,y:.1,z:.1}}},"second-move":{trigger:".second-move",roomAnimation:{scale:{x:.25,y:.25,z:.25},position:{x:1.5}},rectLightAnimation:{width:"0.3 * 3.4",height:"0.4 * 3.4"}},"third-move":{trigger:".third-move",roomAnimation:{position:{z:-4.5}}},"fourth-move":{trigger:".fourth-move",roomAnimation:{scale:{x:.1,y:.1,z:.1},position:{x:0,y:-.1,z:-2}}}}},Zr=[{trigger:".first-move",circleIndex:0,scale:{x:3,y:3,z:3}},{trigger:".second-move",circleIndex:1,scale:{x:3,y:3,z:3},roomPosition:{y:.7}},{trigger:".third-move",circleIndex:2,scale:{x:3,y:3,z:3}},{trigger:".fourth-move",circleIndex:3,scale:{x:3,y:3,z:3}}],Qr={borderTopRightRadius:10,borderBottomRightRadius:700},$r={borderTopLeftRadius:10,borderBottomLeftRadius:700};M.registerPlugin(jr);const Jr=({roomRef:t,floorRef:r})=>{const{camera:n,size:o}=p(),{controlsEnabled:i,childrenMap:a,rectLightRef:s}=w(),l=e.useRef(null),c=R(),u=A(),f=(()=>{const e=A();return _.ANIMATION_QUALITY[e.toUpperCase()]||_.ANIMATION_QUALITY.MEDIUM})(),d=window.matchMedia("(prefers-reduced-motion: reduce)").matches,h=d?.1:c?_.SCRUB.MOBILE:"medium"===u?_.SCRUB.LAPTOP:_.SCRUB.DESKTOP,g=(()=>{if(d)return.1;const e=_.PROGRESS_BAR_SCRUB[u.toUpperCase()]||_.PROGRESS_BAR_SCRUB.DESKTOP;return Math.min(.4,e)})(),m=f.skipComplexAnimations;return O(()=>{if(!i)return jr.getAll().forEach(e=>e.kill()),void(l.current&&(l.current(),l.current=null));(()=>{if(!t.current||!r.current)return;if(n&&t.current){if(n.position.set(0,6.5,10),n.isOrthographicCamera){n.rotation.x=-Math.PI/6;const e=o.width/o.height,t=5;n.left=-e*t/2,n.right=e*t/2,n.top=t/2,n.bottom=-t/2,n.updateProjectionMatrix()}t.current.scale.set(.11,.11,.11),t.current.position.set(0,0,0)}const e=document.querySelector(".page");e&&(e.style.overflow="visible"),jr.scrollerProxy(null);const i=e=>{if("string"==typeof e){let t=e.replace(/size\.width/g,String(o.width)).replace(/size\.height/g,String(o.height));if(!/^[0-9\s.+\-*/]+$/.test(t))return Number(t)||0;const r=t.match(/-?\d+(?:\.\d+)?|[+\-*/]/g);if(!r)return Number(t)||0;let n=[],i=[],a=parseFloat(r[0]);for(let e=1;e<r.length;e+=2){const t=r[e],o=parseFloat(r[e+1]);"*"===t||"/"===t?a="*"===t?a*o:a/o:(n.push(a),i.push(t),a=o)}n.push(a);let s=n[0];for(let e=0;e<i.length;e++)"+"===i[e]?s+=n[e+1]:s-=n[e+1];return s}return e},l=(e,r)=>{Object.values(e[r]||{}).forEach(e=>{const r=M.timeline({scrollTrigger:{trigger:e.trigger,start:"top top",end:"bottom bottom",scrub:h,invalidateOnRefresh:!0}});if(e.roomAnimation){const{position:n,scale:o,rotation:a}=e.roomAnimation;if(n){const e={};Object.entries(n).forEach(([t,r])=>{e[t]=i(r)}),r.to(t.current.position,e,"same")}o&&r.to(t.current.scale,o,"same"),a&&r.to(t.current.rotation,a,"same")}if(e.cameraAnimation){const{position:t,rotation:o}=e.cameraAnimation;t&&r.to(n.position,t,"same"),o&&r.to(n.rotation,o,"same")}if(e.rectLightAnimation&&s?.current){const t={};Object.entries(e.rectLightAnimation).forEach(([e,r])=>{t[e]=i(r)}),r.to(s.current,t,"same")}})};jr.matchMedia({"(min-width: 969px)":()=>{t.current.scale.set(.11,.11,.11),s?.current&&(s.current.width=.5,s.current.height=.7),n.position.set(0,6.5,10),t.current.position.set(0,0,0),m?(jr.batch(".section",{onEnter:e=>{e.forEach((e,t)=>{M.fromTo(e,{opacity:0,y:50},{opacity:1,y:0,duration:.6,delay:.1*t,ease:"power2.out"})})},once:!0}),M.timeline({scrollTrigger:{trigger:"body",start:"top top",end:"bottom bottom",scrub:1.5*h,onUpdate:e=>{const r=e.progress;t.current.position.x=1*r,t.current.scale.setScalar(.11+.29*r)}}})):l(Kr,"desktop")},"(max-width: 968px)":()=>{t.current.scale.set(.07,.07,.07),t.current.position.set(0,0,0),s?.current&&(s.current.width=.3,s.current.height=.4),n.position.set(0,6.5,10),l(Kr,"mobile")},all:()=>{if(document.querySelectorAll(".section").forEach(e=>{const t=e.querySelector(".progress-wrapper"),r=e.querySelector(".progress-bar");e.classList.contains("right")?(M.to(e,{borderTopLeftRadius:$r.borderTopLeftRadius,ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"top top",scrub:h,invalidateOnRefresh:!0}}),M.to(e,{borderBottomLeftRadius:$r.borderBottomLeftRadius,ease:"none",scrollTrigger:{trigger:e,start:"bottom bottom",end:"bottom top",scrub:h,invalidateOnRefresh:!0}})):(M.to(e,{borderTopRightRadius:Qr.borderTopRightRadius,ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"top top",scrub:h,invalidateOnRefresh:!0}}),M.to(e,{borderBottomRightRadius:Qr.borderBottomRightRadius,ease:"none",scrollTrigger:{trigger:e,start:"bottom bottom",end:"bottom top",scrub:h,invalidateOnRefresh:!0}})),r&&M.fromTo(r,{scaleY:0,transformOrigin:"top center"},{scaleY:1,transformOrigin:"top center",ease:"none",scrollTrigger:{trigger:e,start:"top top",end:"bottom bottom",scrub:g,pin:!c&&t,pinSpacing:!1,invalidateOnRefresh:!0,refreshPriority:1}})}),r.current){const e=[];r.current.traverse(t=>{"CircleGeometry"===t.geometry?.type&&e.push(t)}),Zr.forEach(r=>{if(e[r.circleIndex]){const n=M.timeline({scrollTrigger:{trigger:r.trigger,start:"top top",end:"bottom bottom",scrub:h,invalidateOnRefresh:!0}});n.to(e[r.circleIndex].scale,{...r.scale,ease:"none"},"same"),r.roomPosition&&n.to(t.current.position,{...r.roomPosition,ease:"none"},"same")}})}if(a&&Object.keys(a).length){const e=M.timeline({scrollTrigger:{trigger:".third-move",start:"center center"}}),t=a;t.mini_floor&&e.to(t.mini_floor.position,{x:-5.44055,z:13.6135,duration:.3});const r=(t,r="+=0")=>{t?.scale&&e.to(t.scale,{x:1,y:1,z:1,duration:.3,ease:"back.out(2)"},r)};r(t.mailbox,"+=0"),r(t.lamp,"+=0"),r(t.floor_first,"-=0.2"),r(t.floor_second,"-=0.2"),r(t.floor_third,"-=0.2"),r(t.dirt,"-=0.2"),r(t.flower1,"+=0"),r(t.flower2,"-=0.1")}}})})();const e=()=>{if(n?.isOrthographicCamera){const e=o.width/o.height,t=5;n.left=-e*t/2,n.right=e*t/2,n.top=t/2,n.bottom=-t/2,n.updateProjectionMatrix()}jr.refresh()};return window.addEventListener("resize",e),()=>{if(window.removeEventListener("resize",e),jr.getAll().forEach(e=>e.kill()),l.current&&(l.current(),l.current=null),"undefined"!=typeof window){const e=document.querySelector(".page");e&&(e.style.overflow="hidden")}}},[n,t,r,o.width,o.height,i,a,s]),null},en=(e,t,r)=>{if(!e?.isOrthographicCamera)return;const n=t/r,o=S.FRUSTUM;Object.assign(e,{left:-n*o/2,right:n*o/2,top:o/2,bottom:-o/2,near:S.NEAR,far:S.FAR}),e.position.set(...S.DEFAULT_POSITION),e.rotation.x=S.DEFAULT_ROTATION_X,e.updateProjectionMatrix()},tn=()=>{const{theme:t}=T(),r=e.useRef(),n=e.useRef(),{size:o}=p(),{roomRef:i,floorRef:a,setCamera:s}=w(),l=A(),c=(()=>{switch(l){case"medium":return R()?{shadowMapSize:E.SHADOW_MAP_SIZE.MOBILE,enableShadows:!0}:{shadowMapSize:E.SHADOW_MAP_SIZE.LAPTOP,enableShadows:!0};case"high":return{shadowMapSize:E.SHADOW_MAP_SIZE.DESKTOP,enableShadows:!0};default:return{shadowMapSize:E.SHADOW_MAP_SIZE.LAPTOP,enableShadows:!0}}})();e.useEffect(()=>{i.current=r.current,a.current=n.current},[i,a]);return u.jsxs(u.Fragment,{children:[u.jsx(h,{makeDefault:!0,position:S.DEFAULT_POSITION,rotation:[S.DEFAULT_ROTATION_X,0,0],near:S.NEAR,far:S.FAR,left:-o.width/o.height*S.FRUSTUM/2,right:o.width/o.height*S.FRUSTUM/2,top:S.FRUSTUM/2,bottom:-2.5,zoom:S.ZOOM,onUpdate:e=>{en(e,o.width,o.height),s?.(e)}}),u.jsx(I,{theme:t}),u.jsx(k,{ref:n}),u.jsx(C,{ref:r}),c.enableShadows&&u.jsx(g,{position:[0,1,0],opacity:0,width:4,height:4,blur:0,far:0}),u.jsx(Jr,{roomRef:r,floorRef:n})]})},rn=()=>{const{setCamera:t}=w(),r=R(),n=(()=>{const e=A(),t=window.devicePixelRatio||1;switch(e){case"medium":return R()?Math.min(t,.8):Math.min(t,1);case"high":return Math.min(t,1.5);default:return Math.min(t,1)}})(),o=e.useCallback(e=>{const{gl:o,camera:a,size:s}=e;o.useLegacyLights=!1,o.outputColorSpace=i,o.toneMapping=m,o.toneMappingExposure=E.TONE_MAPPING_EXPOSURE,o.shadowMap.enabled=!r,o.shadowMap.type=v,o.setPixelRatio(n),en(a,s.width,s.height),t(a)},[t,r,n]),a=(()=>{const e=R(),t=window.innerWidth/window.innerHeight,r=S.FRUSTUM;return{orthographic:!0,zoom:S.ZOOM,position:S.DEFAULT_POSITION,near:S.NEAR,far:S.FAR,left:-t*r/2,right:t*r/2,top:r/2,bottom:-r/2,...e&&{antialias:!1,powerPreference:"low-power"}}})();return u.jsx(y,{orthographic:!0,camera:a,gl:{antialias:!r,alpha:!0,powerPreference:r?"low-power":"high-performance"},dpr:n,onCreated:o,shadows:1,children:u.jsx(e.Suspense,{fallback:null,children:u.jsx(tn,{})})})},nn=()=>u.jsx("div",{className:"experience-canvas",children:u.jsx(rn,{})});export{nn as default};
